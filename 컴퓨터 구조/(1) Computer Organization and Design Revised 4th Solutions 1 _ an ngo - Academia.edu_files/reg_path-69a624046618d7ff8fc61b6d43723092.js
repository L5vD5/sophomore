(function(){this.LocalStorage={localStorage:!1,getLocalStorage:function(){try{return window&&null!==window.localStorage&&(this.localStorage=window.localStorage),this.localStorage}catch(e){return!1}},getItem:function(e){return this.localStorage||(this.localStorage=this.getLocalStorage()),this.localStorage.getItem(e)},setItem:function(e,t){return this.localStorage||(this.localStorage=this.getLocalStorage()),this.localStorage.setItem(e,t)},removeItem:function(e){return this.localStorage||(this.localStorage=this.getLocalStorage()),this.localStorage.removeItem(e)}}}).call(this),function(){this.TwitterApi=function(){function e(){}return e.prototype.twitterConnectPath="/Twitter/Connect",e.prototype.twitterContactPath="/FriendFinder/TwitterConnectSuccess",e.prototype.localStorage=null,e.prototype.askToConnect=function(){var e,t;return t={redirect:window.location.origin+this.twitterContactPath},this.twitterWindow=window.open(this.twitterConnectPath+"?"+$.param(t),"Twitter Connect","width=500, height=300"),this.localStorage=LocalStorage.getLocalStorage(),e=new $.Deferred,this.localStorage?(this.localStorage.removeItem("twitter_connected"),this.localStorage.setItem("twitter_connected",!1),this._pollForSuccess(e)):e.reject(),e},e.prototype._pollForSuccess=function(e){var t,i;return i=(new Date).getTime(),t=setInterval(function(o){return function(){var n;return n=o.localStorage.getItem("twitter_connected"),(new Date).getTime()-i>3e5||"true"===n||o.twitterWindow.closed?(clearInterval(t),"true"===n?e.resolve():e.reject(),o.localStorage.removeItem("twitter_connected")):void 0}}(this),2e3),e},e}()}.call(this),function(){var e;(e=this.Academia).RegPath||(e.RegPath={})}.call(this),function(){var e=function(e,i){function o(){this.constructor=e}for(var n in i)t.call(i,n)&&(e[n]=i[n]);return o.prototype=i.prototype,e.prototype=new o,e.__super__=i.prototype,e},t={}.hasOwnProperty;Academia.RegPath.SuggestionCollection=function(t){function i(){return i.__super__.constructor.apply(this,arguments)}return e(i,t),i.prototype.initialize=function(){return i.__super__.initialize.apply(this,arguments),this.on("sync",this._defaultToAccepted,this)},i.prototype._defaultToAccepted=function(){return this.each(function(e){return e.has("accepted")?void 0:e.set("accepted",!0)})},i.prototype.save=function(){var e,t;return e=this.select(function(e){return e.get("accepted")}),t=this.reject(function(e){return e.get("accepted")}),$.ajax({url:this.url,type:"PUT",data:{accepted_suggestions:this._sourcesById(e),rejected_suggestions:this._sourcesById(t)}})},i.prototype._sourcesById=function(e){return _(e).reduce(function(e){return function(t,i){return t[i.get(e.modelName).id]=i.get("sources").sort().join(","),t}}(this),{})},i}(Backbone.Collection)}.call(this),function(){var e=function(e,i){function o(){this.constructor=e}for(var n in i)t.call(i,n)&&(e[n]=i[n]);return o.prototype=i.prototype,e.prototype=new o,e.__super__=i.prototype,e},t={}.hasOwnProperty;Academia.RegPath.WelcomeNotice=function(t){function i(){return i.__super__.constructor.apply(this,arguments)}return e(i,t),i.prototype.initialize=function(e){return i.__super__.initialize.call(this,_.extend({mode:"success",fadeout:4e3,after:"#reg-path-progress-bar"},e)),$.cookie("saw_welcome_notice")?void 0:(this.render(),$.cookie("saw_welcome_notice",(new Date).getTime(),{domain:$domain,path:"/",expires:1}))},i}(ConfirmationBanner.BelowNavView)}.call(this),function(){var e=function(e,i){function o(){this.constructor=e}for(var n in i)t.call(i,n)&&(e[n]=i[n]);return o.prototype=i.prototype,e.prototype=new o,e.__super__=i.prototype,e},t={}.hasOwnProperty;Academia.RegPath.ClusterCollectionController=function(t){function i(){return i.__super__.constructor.apply(this,arguments)}return e(i,t),i.prototype.loadingTemplate="reg_path/templates/step_loading",i.prototype.initialize=function(e){return null==e&&(e={}),this._clusterSavePromises=[],_.defaults(e,{maxShownClusters:4,showLowConfidence:!1,loadingTimeout:1e4}),this._maxShownClusters=e.maxShownClusters,this._loadingMessage=e.loadingMessage,this._showLowConfidence=e.showLowConfidence,this._loadingTimeout=e.loadingTimeout,this.suggestedClusters=Academia.RegPath.suggestedClusters,this.suggestedClusters.fetched?setTimeout(function(e){return function(){return e._renderCollection()}}(this),0):(this._renderLoader(),this.listenToOnce(this.suggestedClusters,"sync",this._renderCollection),this.listenToOnce(this.suggestedClusters,"error",function(e){return function(){return e.trigger("step_complete")}}(this)),this.suggestedClusters.fetch(),setTimeout(function(e){return function(){return e.suggestedClusters.fetching?(e.stopListening(),e.trigger("step_complete")):void 0}}(this),this._loadingTimeout))},i.prototype._renderLoader=function(){return this.$el.html(JST[this.loadingTemplate]({loadingText:this._loadingMessage||I18n.t("reg_path.coauthor.looking_for_papers")}))},i.prototype._renderCollection=function(){return this.suggestedClusters.organizeByConfidenceAndUpdateDefaults({showLowConfidence:this._showLowConfidence}),0===this.suggestedClusters.length||!this._showLowConfidence&&0===this.suggestedClusters.getHighConfidenceClusters().length?void this.trigger("step_complete"):(this.suggestedClusters.reset(this.suggestedClusters.first(this._maxShownClusters)),this.currentClusterIndex=0,this._renderCurrentCluster())},i.prototype._renderCurrentCluster=function(){var e,t;return null!=(t=this._currentClusterReviewPage)&&t.remove(),this.trigger("substeps_complete",this.currentClusterIndex),e=this.suggestedClusters.at(this.currentClusterIndex),0===e.get("papers").length?void this._showNextCluster():(this._currentClusterReviewPage=new Academia.RegPath.ClusterReviewPage({model:e,clusterIndex:this.currentClusterIndex,papersClaimedSoFarCount:this.suggestedClusters.getTotalClaimedCount()}),this.listenToOnce(this._currentClusterReviewPage,"step_complete",this._showNextCluster),this.$el.html(this._currentClusterReviewPage.render().el),this.$(".js-cluster-review-page-work-title").trunk8({lines:2}))},i.prototype._showNextCluster=function(e){return e&&this._clusterSavePromises.push(e),this.currentClusterIndex++,this.currentClusterIndex<this.suggestedClusters.length?this._renderCurrentCluster():$.when.apply($,this._clusterSavePromises).always(function(e){return function(){return Academia.RegPath.suggestedCoauthors.fetch({dataType:"jsonp"}).always(function(){return e.trigger("step_complete")})}}(this))},i.prototype.remove=function(){var e;return null!=(e=this._currentClusterReviewPage)&&e.remove(),i.__super__.remove.apply(this,arguments)},i}(Backbone.View)}.call(this),function(){var e=function(e,i){function o(){this.constructor=e}for(var n in i)t.call(i,n)&&(e[n]=i[n]);return o.prototype=i.prototype,e.prototype=new o,e.__super__=i.prototype,e},t={}.hasOwnProperty;Academia.RegPath.ClusterReviewPage=function(t){function i(){return i.__super__.constructor.apply(this,arguments)}return e(i,t),i.prototype.template="reg_path/templates/cluster_review_page",i.prototype.events={"click .js-cluster-review-page-next-cluster":"_toNextCluster","click .js-cluster-review-page-next-cluster-with-none":"_toNextClusterWithNone","click .js-cluster-review-page-toggle-wrapper":"_toggleClaimForAll"},i.prototype.initialize=function(e){return this.papersClaimedSoFarCount=e.papersClaimedSoFarCount,this.listenTo(this.model.get("papers"),"change",this._updateConfirmButtons),this.listenTo(this.model.get("papers"),"change:claimStatus",this._updateToggleAllUI)},i.prototype.render=function(){return this.$el.html(JST[this.template]({confirmedCount:this.papersClaimedSoFarCount})),this._postRender(),this},i.prototype._postRender=function(){return this.ui={$suggestedWorksList:this.$(".js-cluster-review-page-works-collection"),$confirmClusterButton:this.$(".js-cluster-review-page-next-cluster"),$confirmClusterButtonText:this.$(".js-cluster-review-page-next-cluster span"),$rejectAllAndFinishButton:this.$(".js-cluster-review-page-next-cluster-with-none"),$confirmClusterButtonSpinner:this.$(".js-cluster-review-page-finish-spinner"),$toggleAllCheckbox:this.$(".js-cluster-review-page-toggle-all-checkbox")},this._suggestedWorkViews=this.model.get("papers").map(function(){return function(e){return new Academia.RegPath.SuggestedWorkView({model:e})}}(this)),this.ui.$suggestedWorksList.html(_.pluck(this._suggestedWorkViews.reverse(),"el")),this._updateToggleAllUI(),this._updateConfirmButtons(),this._trackClusterShown()},i.prototype._updateConfirmButtons=function(){var e,t;return t=this.model.get("papers").where({claimStatus:"claim"}).length,e=t===this.model.get("papers").length,0===t?(this.ui.$confirmClusterButton.addClass("btn-clear").removeClass("btn-primary"),this.ui.$confirmClusterButtonText.text("Skip"),this.ui.$rejectAllAndFinishButton.hide()):e?(this.ui.$confirmClusterButton.addClass("btn-primary").removeClass("btn-clear"),this.ui.$confirmClusterButtonText.text("Confirm All ("+t+")"),this.ui.$rejectAllAndFinishButton.show()):(this.ui.$confirmClusterButton.addClass("btn-primary").removeClass("btn-clear"),this.ui.$confirmClusterButtonText.text("Confirm Selected ("+t+")"),this.ui.$rejectAllAndFinishButton.show())},i.prototype._updateToggleAllUI=function(){var e;return e=this.model.get("papers").every(function(e){return"claim"===e.get("claimStatus")}),e?this.ui.$toggleAllCheckbox.attr("checked",!0):this.ui.$toggleAllCheckbox.attr("checked",!1)},i.prototype._toggleClaimForAll=function(){var e;return e=this.model.get("papers").every(function(e){return"claim"===e.get("claimStatus")}),e?this.model.get("papers").invoke("set",{claimStatus:"anticlaim"}):this.model.get("papers").invoke("set",{claimStatus:"claim"})},i.prototype._showSavingSpinner=function(){return this.ui.$confirmClusterButtonText.hide(),this.ui.$rejectAllAndFinishButton.hide(),this.ui.$confirmClusterButtonSpinner.removeClass("hidden")},i.prototype._toNextCluster=function(){var e;return e=this.model.save(),this._showSavingSpinner(),this.trigger("step_complete",e)},i.prototype._toNextClusterWithNone=function(){return this.model.get("papers").invoke("set",{claimStatus:"anticlaim"}),this._toNextCluster()},i.prototype._trackClusterShown=function(){var e;return e=new c.Server.Notification("paper_clusters"),e.notify({event:"cluster_shown",user_id:$current_user.id,bibentry_ids:this.model.get("papers").pluck("id"),confidence:this.model.get("confidence")})},i.prototype.remove=function(){return _.invoke(this._suggestedWorkViews,"remove"),i.__super__.remove.apply(this,arguments)},i}(Backbone.View)}.call(this),function(){var e=function(e,i){function o(){this.constructor=e}for(var n in i)t.call(i,n)&&(e[n]=i[n]);return o.prototype=i.prototype,e.prototype=new o,e.__super__=i.prototype,e},t={}.hasOwnProperty;Academia.RegPath.CoauthorReviewPage=function(t){function i(){return i.__super__.constructor.apply(this,arguments)}return e(i,t),i.prototype.template="reg_path/templates/coauthor_review_page",i.prototype.events={"click .js-coauthor-review-page-finish":"_confirmAndFinish","click .js-coauthor-review-page-reject-all":"_rejectAllAndFinish"},i.prototype.initialize=function(){return i.__super__.initialize.apply(this,arguments),this.suggestedCoauthors=Academia.RegPath.suggestedCoauthors,this.suggestedCoauthors.on({"remove change":function(e){return function(){return e._updateConfirmButtonText()}}(this),"batch-saved":function(e){return function(){return e.trigger("step_complete")}}(this)}),this.render()},i.prototype.render=function(){return this.$el.html(JST[this.template]()),this.postRender(),this},i.prototype._renderCoauthorList=function(){return this.ui.$suggestedCoauthorsList.empty(),0===this.suggestedCoauthors.models.length?this.ui.$suggestedCoauthorsList.html(JST["reg_path/templates/no_suggested_coauthors"]()):this.coauthorViews=_.map(this.suggestedCoauthors.models,function(e){return function(t){var i;return i=new Academia.RegPath.SuggestedCoauthorView({model:t}),e.ui.$suggestedCoauthorsList.append(i.render().el)}}(this)),heap.track("Claim Papers: Show Coauthors",{"num-coauthors":this.suggestedCoauthors.length}),this.suggestedCoauthors.hasExpandedCoauthor()?this.$(".js-coauthor-review-page-work-title").trunk8({lines:2}):void 0},i.prototype.postRender=function(){return this.ui={$suggestedCoauthorsList:this.$(".js-coauthor-review-page-coauthors-collection"),$confirmCoauthorsButtonText:this.$(".js-coauthor-review-page-finish span"),$confirmCoauthorsButtonSpinner:this.$(".js-coauthor-review-page-finish-spinner"),$rejectAllAndFinishButton:this.$(".js-coauthor-review-page-reject-all")},this._renderCoauthorList(),this._updateConfirmButtonText(),this._trackCoauthorsShown()},i.prototype._updateConfirmButtonText=function(){return this.ui.$confirmCoauthorsButtonText.text(this._getConfirmButtonText())},i.prototype._getConfirmButtonText=function(){var e,t;return e=this.suggestedCoauthors.where({accept:!0}).length,t=e===this.suggestedCoauthors.length,0===e?"Skip":t?"Confirm All ("+e+")":"Confirm Selected ("+e+")"},i.prototype._trackCoauthorsShown=function(){var e;return e=new c.Server.Notification("paper_clusters"),e.notify({event:"coauthors_shown",user_id:$current_user.id})},i.prototype._confirmAndFinish=function(){return this.ui.$confirmCoauthorsButtonText.hide(),this.ui.$rejectAllAndFinishButton.hide(),this.ui.$confirmCoauthorsButtonSpinner.removeClass("hidden"),this.suggestedCoauthors.batchSaveSuggestions()},i.prototype._rejectAllAndFinish=function(){return this.suggestedCoauthors.markAllAsRejected(),this._confirmAndFinish()},i.prototype.remove=function(){return _.chain(this.coauthorViews).compact().invoke("remove"),i.__super__.remove.apply(this,arguments)},i}(Backbone.View)}.call(this),function(){var e=function(e,i){function o(){this.constructor=e}for(var n in i)t.call(i,n)&&(e[n]=i[n]);return o.prototype=i.prototype,e.prototype=new o,e.__super__=i.prototype,e},t={}.hasOwnProperty;Academia.RegPath.CoauthorWelcomeNotice=function(t){function i(){return i.__super__.constructor.apply(this,arguments)}return e(i,t),i.prototype.initialize=function(){var e;return e=null!=this.invitingCoauthor?I18n.t("reg_path.coauthor.you_accepted",{invitingCoauthor:this.invitingCoauthor}):I18n.t("reg_path.coauthor.you_accepted_no_name"),i.__super__.initialize.call(this,{message:e})},i}(Academia.RegPath.WelcomeNotice)}.call(this),function(){var e=function(e,i){function o(){this.constructor=e}for(var n in i)t.call(i,n)&&(e[n]=i[n]);return o.prototype=i.prototype,e.prototype=new o,e.__super__=i.prototype,e},t={}.hasOwnProperty;Academia.RegPath.CombinedClaimCoauthorView=function(t){function i(){return i.__super__.constructor.apply(this,arguments)}return e(i,t),i.prototype.template="reg_path/templates/combined_claim/combined_claim_coauthor",i.prototype.events={"click .js-combined-claim-coauthor-toggle-paper-titles-list":"togglePaperList","click .js-clickable-paper-area":"toggleModelClaimedState"},i.prototype.initialize=function(e){return this.bgClass=null!=e?e.bgClass:void 0,this.listenTo(Academia.RegPath.eventDispatcher,"combinedClaim:optInClicked",this.toggleVisibility),this.listenTo(this.model,"change",this.updateCheckboxVisualState),this.render()},i.prototype.render=function(){return this.$el.html(JST[this.template]({coauthor:this.model.toJSON(),isClaimed:this.model.isClaimed(),bgClass:this.bgClass})),this.postRender()},i.prototype.postRender=function(){return this.ui={$coauthorObfuscatedEmail:this.$(".js-combined-claim-coauthor-obfuscated-email"),$claimCheckbox:this.$(".js-combined-claim-coauthor-claim-checkbox"),$paperTitleListItems:this.$(".js-combined-claim-coauthor-paper-title-li"),$toggleablePaperTitleListItems:this.$(".js-combined-claim-coauthor-paper-title-li:nth-of-type(n+4)"),$togglePaperTitlesText:this.$(".js-combined-claim-coauthor-toggle-paper-titles-list-text")},this.ui.$paperTitleListItems.length>3?this.hidePaperList():void 0},i.prototype.togglePaperList=function(e){var t;return e.stopPropagation(),t=this.ui.$toggleablePaperTitleListItems[0],$(t).hasClass("hidden")?this.showPaperList():this.hidePaperList()},i.prototype.hidePaperList=function(){return this.ui.$toggleablePaperTitleListItems.addClass("hidden"),this.ui.$togglePaperTitlesText.text("..."+(this.ui.$paperTitleListItems.length-3)+" more")},i.prototype.showPaperList=function(){return this.ui.$toggleablePaperTitleListItems.removeClass("hidden"),this.ui.$togglePaperTitlesText.text("..."+(this.ui.$paperTitleListItems.length-3)+" less")},i.prototype.toggleModelClaimedState=function(){return this.model.isClaimed()?this.model.set("claimStatus","anticlaim"):this.model.set("claimStatus","claim")},i.prototype.updateCheckboxVisualState=function(){return this.model.isClaimed()?this.ui.$claimCheckbox.removeClass("fa-square-o text-gray-light").addClass("fa-check-square text-success"):this.ui.$claimCheckbox.removeClass("fa-check-square text-success").addClass("fa-square-o text-gray-light")},i.prototype.toggleVisibility=function(e){return this.model.isExternal()?e?(this.model.set("optedIn",!0),this.$el.removeClass("combined-claim-panel-opted-out"),this.delegateEvents()):(this.model.set("optedIn",!1),this.$el.addClass("combined-claim-panel-opted-out"),this.undelegateEvents()):void 0},i.prototype.disable=function(){return this.undelegateEvents(),this.stopListening(),$a.log("combined claim coauthor view disabled")},i}(Backbone.View)}.call(this),function(){var e=function(e,i){function o(){this.constructor=e}for(var n in i)t.call(i,n)&&(e[n]=i[n]);return o.prototype=i.prototype,e.prototype=new o,e.__super__=i.prototype,e},t={}.hasOwnProperty;Academia.RegPath.CombinedClaimCollectionView=function(t){function i(){return i.__super__.constructor.apply(this,arguments)}return e(i,t),i.prototype.loadingTemplate="reg_path/templates/step_loading",i.prototype.initialize=function(){return this.$el.html(JST[this.loadingTemplate]({loadingText:"Loading..."})),this.renderCollection()},i.prototype.renderCollection=function(){var e,t;return e=0,t=["bg-primary","bg-success","bg-info","bg-warning"],this.combinedClaimCoauthorViews=this.collection.map(function(i){var o;return o=t[e++%t.length],new Academia.RegPath.CombinedClaimCoauthorView({model:i,bgClass:o})}),this.$el.html(_.pluck(this.combinedClaimCoauthorViews,"el"))},i.prototype.disable=function(){return _.invoke(this.combinedClaimCoauthorViews,"disable"),$a.log("combined claim collection view disabled")},i.prototype.remove=function(){return _.invoke(this.combinedClaimCoauthorViews,"remove"),i.__super__.remove.apply(this,arguments)},i}(Backbone.View)}.call(this),function(){var e=function(e,i){function o(){this.constructor=e}for(var n in i)t.call(i,n)&&(e[n]=i[n]);return o.prototype=i.prototype,e.prototype=new o,e.__super__=i.prototype,e},t={}.hasOwnProperty;Academia.RegPath.CombinedClaimConfirmButton=function(t){function i(){return i.__super__.constructor.apply(this,arguments)}return e(i,t),i.prototype.template="reg_path/templates/combined_claim/combined_claim_confirm_button",i.prototype.events={"click .js-combined-claim-confirm-button":"confirmButtonClicked"},i.prototype.initialize=function(e){return this.broccoliSuffix=null!=e?e.broccoliSuffix:void 0,this.spinnerActivated=!1,this.listenTo(this.collection,"change",this.render),this.render()},i.prototype.render=function(){return this.$el.html(JST[this.template]({broccoliSuffix:this.broccoliSuffix,allClaimed:this.collection.allClaimed(),numClaimed:this.collection.numClaimed(),spinnerActivated:this.spinnerActivated}))},i.prototype.postRender=function(){return this.ui={$confirmButton:this.$(".js-confirm-button"),$confirmButtonText:this.$(".js-confirm-button-text"),$confirmButtonClaimCount:this.$(".js-confirm-button-claim-count"),$confirmButtonSpinner:this.$(".js-confirm-button-spinner")}},i.prototype.confirmButtonClicked=function(){return this.spinnerActivated=!0,this.render(),Academia.RegPath.eventDispatcher.trigger("combinedClaim:confirmButtonClicked")},i.prototype.disable=function(){return this.undelegateEvents(),this.stopListening(),$a.log("combined claim confirm button disabled")},i}(Backbone.View)}.call(this),function(){var e=function(e,i){function o(){this.constructor=e}for(var n in i)t.call(i,n)&&(e[n]=i[n]);return o.prototype=i.prototype,e.prototype=new o,e.__super__=i.prototype,e},t={}.hasOwnProperty;Academia.RegPath.CombinedClaimControlBar=function(t){function i(){return i.__super__.constructor.apply(this,arguments)}return e(i,t),i.prototype.template="reg_path/templates/combined_claim/combined_claim_control_bar",i.prototype.initialize=function(){return this.render()},i.prototype.render=function(){return this.$el.html(JST[this.template]),this.postRender()},i.prototype.postRender=function(){return this.ui={$controlBarText:this.$(".js-combined-claim-control-bar-text-container"),$controlBarSelectAllCheckbox:this.$(".js-combined-claim-control-bar-select-all-checkbox-container")},this.subviews={controlBarText:new Academia.RegPath.CombinedClaimControlBarText({el:this.ui.$controlBarText,collection:this.collection}),selectAllCheckbox:new Academia.RegPath.CombinedClaimControlBarSelectAllCheckbox({el:this.ui.$controlBarSelectAllCheckbox,collection:this.collection})}},i.prototype.affixBar=function(){return this.$el.affix({offset:{top:this.$el.offset().top}})},i.prototype.disable=function(){return _.invoke(this.subviews,"disable"),$a.log("combined claim control bar disabled")},i}(Backbone.View)}.call(this),function(){var e=function(e,i){function o(){this.constructor=e}for(var n in i)t.call(i,n)&&(e[n]=i[n]);return o.prototype=i.prototype,e.prototype=new o,e.__super__=i.prototype,e},t={}.hasOwnProperty;Academia.RegPath.CombinedClaimControlBarSelectAllCheckbox=function(t){function i(){return i.__super__.constructor.apply(this,arguments)}return e(i,t),i.prototype.template="reg_path/templates/combined_claim/combined_claim_control_bar_select_all_checkbox",i.prototype.events={"click .js-combined-claim-select-all-container":"toggleSelectAll"},i.prototype.initialize=function(){return this.listenTo(this.collection,"change:claimStatus",this.render),this.listenTo(this.collection,"change:optedIn",this.render),this.render()},i.prototype.render=function(){return this.$el.html(JST[this.template]({allClaimed:this.collection.allClaimed()}))},i.prototype.toggleSelectAll=function(){return this.collection.allClaimed()?_.each(this.collection.visibleSuggestions(),function(e){return e.set("claimStatus","anticlaim")}):_.each(this.collection.visibleSuggestions(),function(e){return e.set("claimStatus","claim")})},i.prototype.disable=function(){return this.undelegateEvents(),this.stopListening(),$a.log("combined claim control bar select all checkbox disabled")},i}(Backbone.View)}.call(this),function(){var e=function(e,i){function o(){this.constructor=e}for(var n in i)t.call(i,n)&&(e[n]=i[n]);return o.prototype=i.prototype,e.prototype=new o,e.__super__=i.prototype,e},t={}.hasOwnProperty;Academia.RegPath.CombinedClaimControlBarText=function(t){function i(){return i.__super__.constructor.apply(this,arguments)}return e(i,t),i.prototype.template="reg_path/templates/combined_claim/combined_claim_control_bar_text",i.prototype.initialize=function(){return this.listenTo(this.collection,"change:optedIn",this.render),this.render()},i.prototype.render=function(){return this.$el.html(JST[this.template]({numCoauthors:this.collection.visibleSuggestions().length}))},i.prototype.disable=function(){return this.stopListening(),$a.log("combined claim control bar text disabled")},i}(Backbone.View)}.call(this),function(){var e=function(e,i){function o(){this.constructor=e}for(var n in i)t.call(i,n)&&(e[n]=i[n]);return o.prototype=i.prototype,e.prototype=new o,e.__super__=i.prototype,e},t={}.hasOwnProperty;Academia.RegPath.CombinedClaimFooter=function(t){function i(){return i.__super__.constructor.apply(this,arguments)}return e(i,t),i.prototype.template="reg_path/templates/combined_claim/combined_claim_footer",i.prototype.initialize=function(e){return this.page=null!=e?e.page:void 0,this.broccoliSuffix="",1===this.page&&this.collection.pagination?this.broccoliSuffix="-page-1":2===this.page&&this.collection.pagination&&(this.broccoliSuffix="-page-2"),this.render()},i.prototype.render=function(){return this.$el.html(JST[this.template]({allClaimed:this.collection.allClaimed(),numClaimed:this.collection.numClaimed(),broccoliSuffix:this.broccoliSuffix})),this.postRender()},i.prototype.postRender=function(){return this.ui={$optInCheckboxContainer:this.$(".js-combined-claim-opt-in-container-wrapper"),$skipButtonContainer:this.$(".js-combined-claim-skip-button-container"),$confirmButtonContainer:this.$(".js-combined-claim-confirm-button-container")},this.subviews={optInCheckbox:new Academia.RegPath.CombinedClaimOptInCheckbox({el:this.ui.$optInCheckboxContainer}),confirmButton:new Academia.RegPath.CombinedClaimConfirmButton({el:this.ui.$confirmButtonContainer,collection:this.collection,broccoliSuffix:this.broccoliSuffix}),skipButton:new Academia.RegPath.CombinedClaimSkipButton({el:this.ui.$skipButtonContainer,broccoliSuffix:this.broccoliSuffix})}},i.prototype.disable=function(){return _.invoke(this.subviews,"disable"),$a.log("combined claim footer disabled")},i}(Backbone.View)}.call(this),function(){var e=function(e,i){function o(){this.constructor=e}for(var n in i)t.call(i,n)&&(e[n]=i[n]);return o.prototype=i.prototype,e.prototype=new o,e.__super__=i.prototype,e},t={}.hasOwnProperty;Academia.RegPath.CombinedClaimHeader=function(t){function i(){return i.__super__.constructor.apply(this,arguments)}return e(i,t),i.prototype.template="reg_path/templates/combined_claim/combined_claim_header",i.prototype.initialize=function(e){return this.page=null!=e?e.page:void 0,this.render()},i.prototype.render=function(){return this.$el.html(JST[this.template]({numCoauthors:this.collection.length,page:this.page}))},i.prototype.disable=function(){return $a.log("combined claim header disabled")},i}(Backbone.View)}.call(this),function(){var e=function(e,i){function o(){this.constructor=e}for(var n in i)t.call(i,n)&&(e[n]=i[n]);return o.prototype=i.prototype,e.prototype=new o,e.__super__=i.prototype,e},t={}.hasOwnProperty;Academia.RegPath.CombinedClaimOptInCheckbox=function(t){function i(){return i.__super__.constructor.apply(this,arguments)}return e(i,t),i.prototype.template="reg_path/templates/combined_claim/combined_claim_opt_in_checkbox",i.prototype.popoverTemplate="reg_path/templates/combined_claim/combined_claim_opt_in_popover",i.prototype.events={"click .js-combined-claim-opt-in-checkbox-container":"optInCheckboxClicked"},i.prototype.initialize=function(){return this.userOptedIn=!0,this.render()},i.prototype.render=function(){return this.$el.html(JST[this.template]({userOptedIn:this.userOptedIn})),this.postRender()},i.prototype.postRender=function(){return this.ui={$optInInfo:this.$(".js-opt-in-info")},new HoverPopover({el:this.ui.$optInInfo,placement:"top",container:"body",html:!0,content:JST[this.popoverTemplate]})},i.prototype.optInCheckboxClicked=function(){return this.userOptedIn=!this.userOptedIn,Academia.RegPath.eventDispatcher.trigger("combinedClaim:optInClicked",this.userOptedIn),this.render()},i.prototype.disable=function(){return this.undelegateEvents(),this.stopListening(),$a.log("combined claim opt in checkbox disabled")},i}(Backbone.View)}.call(this),function(){var e=function(e,i){function o(){this.constructor=e}for(var n in i)t.call(i,n)&&(e[n]=i[n]);return o.prototype=i.prototype,e.prototype=new o,e.__super__=i.prototype,e},t={}.hasOwnProperty;Academia.RegPath.CombinedClaimPage=function(t){function i(){return i.__super__.constructor.apply(this,arguments)}return e(i,t),i.prototype.loadingTemplate="reg_path/templates/step_loading",i.prototype.template="reg_path/templates/combined_claim/combined_claim_page",i.prototype.initialize=function(e){return this.collection=Academia.RegPath.suggestionsByCoauthor,this.page=null!=e?e.page:void 0,this.$el.html(JST[this.loadingTemplate]({loadingText:"Loading..."})),this.collection.fetched?_.defer(function(e){return function(){return e.preRender()}}(this)):(this.listenToOnce(this.collection,"sync",this.preRender),this.listenToOnce(this.collection,"error",function(e){return function(){return e.trigger("step_complete")}}(this)),this.collection.fetch())},i.prototype.preRender=function(){return this.collection.organizeByConfidence(),0===this.collection.length||2===this.page&&!this.collection.coauthor_pagination?this.trigger("step_complete"):(this.listenToOnce(Academia.RegPath.eventDispatcher,"combinedClaim:confirmButtonClicked",this.toNextStep),this.prepareCollections(),this.render())},i.prototype.prepareCollections=function(){return this.entries_to_use=1===this.page&&this.collection.coauthor_pagination?new Works.SuggestionsByCoauthor(this.collection.slice(0,30),{source:"reg_path_combined_cluster_claim"}):2===this.page&&this.collection.coauthor_pagination?new Works.SuggestionsByCoauthor(this.collection.slice(30),{source:"reg_path_combined_cluster_claim"}):this.collection},i.prototype.render=function(){return this.$el.html(JST[this.template]),this.postRender()},i.prototype.postRender=function(){return this.ui={$header:this.$(".js-combined-claim-header"),$controlBar:this.$(".js-combined-claim-control-bar"),$collectionEl:this.$(".js-combined-claim-collection"),$footer:this.$(".js-combined-claim-footer")},this.subviews={header:new Academia.RegPath.CombinedClaimHeader({collection:this.entries_to_use,el:this.ui.$header,page:this.page}),controlBar:new Academia.RegPath.CombinedClaimControlBar({collection:this.entries_to_use,el:this.ui.$controlBar}),collectionView:new Academia.RegPath.CombinedClaimCollectionView({collection:this.entries_to_use,el:this.ui.$collectionEl}),footer:new Academia.RegPath.CombinedClaimFooter({collection:this.entries_to_use,el:this.ui.$footer,page:this.page})},this.postDOMInsertionTasks()},i.prototype.postDOMInsertionTasks=function(){return this.subviews.controlBar.affixBar(),this.trackCoauthorsShown()},i.prototype.trackCoauthorsShown=function(){var e;return 1===this.page&&this.collection.coauthor_pagination?(e=$.extend({coauthors_shown:this.collection.length},this.collection.countsByConfidence()),this.notify("combined-claim-coauthors-shown-paginated-all",e),e=$.extend({coauthors_shown:this.entries_to_use.length},this.entries_to_use.countsByConfidence()),this.notify("combined-claim-coauthors-shown-paginated-page-1",e)):2===this.page&&this.collection.coauthor_pagination&&(e=$.extend({coauthors_shown:this.entries_to_use.length},this.entries_to_use.countsByConfidence()),this.notify("combined-claim-coauthors-shown-paginated-page-2",e)),1!==this.page||this.collection.coauthor_pagination?void 0:(e=$.extend({coauthors_shown:this.entries_to_use.length},this.entries_to_use.countsByConfidence()),this.notify("combined-claim-coauthors-shown",e))},i.prototype.toNextStep=function(){return this.disableSubviews(),this.entries_to_use.save().always(function(e){return function(){return e.notify("combined-claim-coauthors-claimed",e.entries_to_use.countsByConfidence(!0)),1===e.page&&e.collection.coauthor_pagination||e.collection.keepOnlyAcceptedNameOnlySuggestions(),Academia.RegPath.eventDispatcher.trigger("otherPapers:step_complete"),e.trigger("step_complete")}}(this))},i.prototype.notify=function(e,t){return null==t&&(t={}),Academia.RegPath.broccoli.notify(e,t)},i.prototype.disableSubviews=function(){return _.invoke(this.subviews,"disable")},i.prototype.remove=function(){return _.each(this.subviews,function(e){return e.remove()}),i.__super__.remove.apply(this,arguments)},i}(Backbone.View)}.call(this),function(){var e=function(e,i){function o(){this.constructor=e}for(var n in i)t.call(i,n)&&(e[n]=i[n]);return o.prototype=i.prototype,e.prototype=new o,e.__super__=i.prototype,e},t={}.hasOwnProperty;Academia.RegPath.CombinedClaimSkipButton=function(t){function i(){return i.__super__.constructor.apply(this,arguments)}return e(i,t),i.prototype.template="reg_path/templates/combined_claim/combined_claim_skip_button",i.prototype.events={"click .js-combined-claim-skip-button":"skipButtonClicked"},i.prototype.initialize=function(e){return this.broccoliSuffix=null!=e?e.broccoliSuffix:void 0,this.spinnerActivated=!1,this.render()},i.prototype.render=function(){return this.$el.html(JST[this.template]({broccoliSuffix:this.broccoliSuffix,spinnerActivated:this.spinnerActivated}))},i.prototype.skipButtonClicked=function(){return Academia.RegPath.eventDispatcher.trigger("otherPapers:step_skipped")},i.prototype.disable=function(){return this.spinnerActivated=!0,this.render(),this.undelegateEvents(),this.stopListening(),$a.log("combined claim skip button disabled")},i}(Backbone.View)}.call(this),function(){var e=function(e,i){function o(){this.constructor=e}for(var n in i)t.call(i,n)&&(e[n]=i[n]);return o.prototype=i.prototype,e.prototype=new o,e.__super__=i.prototype,e},t={}.hasOwnProperty;
Academia.RegPath.CurrentPositionGrid=function(t){function i(){return i.__super__.constructor.apply(this,arguments)}return e(i,t),i.prototype.events={"click #current-position-other":"showMoreOptions","click *[data-position]":"choosePosition"},i.prototype.initialize=function(e){return null==e&&(e={}),this.affiliation=e.affiliation,this.guessAffiliation=e.guessAffiliation,this.ui={$otherButton:this.$("#current-position-other"),$moreOptions:this.$("#current-position-more-options")},this.render()},i.prototype.render=function(){return this.$el.removeClass("hidden"),this},i.prototype.showMoreOptions=function(){return this.ui.$otherButton.addClass("hidden"),this.ui.$moreOptions.removeClass("hidden")},i.prototype.choosePosition=function(e){var t,i;return t=$(e.currentTarget).data("position"),null!=(i=Academia.broccoli)&&i.notify("current-position__position-chosen",{position:t}),this.affiliation.set("independent"===t||"not"===t?{category:t,position:null,custom_position:{},department:null}:"private"===t?{category:"private",position:{id:4},custom_position:{name:"Researcher"}}:{category:"university",position:{id:t},custom_position:{}}),this.affiliation.has("department")||this.affiliation.set({department:null}),this.guessAffiliation?this.retrieveGuessedAffiliation().always(function(e){return function(){return e.trigger("step_complete")}}(this)):this.trigger("step_complete")},i.prototype.remove=function(){return this.$el.addClass("hidden"),this},i.prototype.retrieveGuessedAffiliation=function(){return $.get($r.api_v0_suggestions_affiliation_path({subdomain_param:"api"})).done(function(e){return function(t){return e.affiliation.has("department")||e.affiliation.set("department",t.department),e.affiliation.has("position")?void 0:e.affiliation.set("position",t.position)}}(this))},i}(Backbone.View)}.call(this),function(){var e=function(e,i){function o(){this.constructor=e}for(var n in i)t.call(i,n)&&(e[n]=i[n]);return o.prototype=i.prototype,e.prototype=new o,e.__super__=i.prototype,e},t={}.hasOwnProperty;Academia.RegPath.DiscoverResearchConnectButtons=function(t){function i(){return i.__super__.constructor.apply(this,arguments)}return e(i,t),i.prototype.template="reg_path/templates/discover_research_connect_buttons",i.prototype.events={"click #discover-research-facebook":"clickFacebook","click #discover-research-google":"clickGoogle","click #discover-research-twitter":"clickTwitter"},i.prototype.initialize=function(){return this.render()},i.prototype.render=function(){var e;return e=JST[this.template]({facebookConnected:this.model.facebook_connected,googleConnected:this.model.google_connected,twitterConnected:this.model.twitter_connected}),this.$el.html(e),this.postRender(),this},i.prototype.postRender=function(){return this.ui={$facebookIcon:this.$("#discover-research-facebook i"),$googleIcon:this.$("#discover-research-google i"),$twitterIcon:this.$("#discover-research-twitter i")},this.on("account:connected",this.render,this)},i.prototype.clickFacebook=function(){return this.ui.$facebookIcon.removeClass("fa-facebook").addClass("fa-spinner fa-spin"),Facebook.authorize().done(function(e){return function(t){return e.handleConnect(Facebook.register_connected(t),"facebook_connected")}}(this))},i.prototype.clickGoogle=function(){return this.ui.$googleIcon.removeClass("fa-google-plus").addClass("fa-spinner fa-spin"),Google.authorize().done(function(e){return function(t){return Google.get_user_info().done(function(i){return e.handleConnect(Google.register_connected(t,i),"google_connected")})}}(this))},i.prototype.clickTwitter=function(){return this.ui.$twitterIcon.removeClass("fa-twitter").addClass("fa-spinner fa-spin"),this.handleConnect((new TwitterApi).askToConnect(),"twitter_connected")},i.prototype.handleConnect=function(e,t){return e.done(function(e){return function(){return e.model[t]=!0,e.trigger("account:connected")}}(this)),e.fail(function(e){return function(t){return e.render(),alert((null!=t?t.responseText:void 0)||"Sorry, something went wrong! Please refresh the page and try again.")}}(this))},i}(Backbone.View)}.call(this),function(){var e=function(e,i){function o(){this.constructor=e}for(var n in i)t.call(i,n)&&(e[n]=i[n]);return o.prototype=i.prototype,e.prototype=new o,e.__super__=i.prototype,e},t={}.hasOwnProperty;Academia.RegPath.DiscoverResearchFollowSuggestions=function(t){function i(){return i.__super__.constructor.apply(this,arguments)}return e(i,t),i.prototype.noSuggestionsTemplate="reg_path/templates/discover_research_suggestions_none",i.prototype.loadingTemplate="reg_path/templates/discover_research_suggestions_loader",i.prototype.initialize=function(e){return this.userSuggestions=e.userSuggestions,this.interestSuggestions=e.interestSuggestions,i.__super__.initialize.apply(this,arguments)},i.prototype.render=function(){var e;return this.userRowViews=this.userSuggestions.map(function(e){var t;return t=c.User.from_json(e.get("user")),new Academia.RegPath.DiscoverResearchSuggestionRow({model:e,suggestionView:new Academia.RegPath.SuggestedUserView({model:t})})}),this.interestRowViews=this.interestSuggestions.map(function(e){var t;return t=e.get("interest"),new Academia.RegPath.DiscoverResearchSuggestionRow({model:e,suggestionView:new Academia.RegPath.SuggestedInterestView({model:t})})}),e=this._intersperseRows(this.userRowViews,this.interestRowViews),e.length>0?this.$el.addClass("reg-path-suggestion-module-collection-view-container").html(_.pluck(e,"el")):this.$el.html(JST[this.noSuggestionsTemplate]()),this},i.prototype._intersperseRows=function(e,t){var i,o;for(i=[],o=0;e.length>2*o||t.length>o;)e.length>2*o&&i.push.apply(i,e.slice(2*o,2*o+2)),t.length>o&&i.push.apply(i,t.slice(o,o+1)),o+=1;return i},i.prototype.showLoader=function(){return this.interestSuggestions.length+this.userSuggestions.length>0?this.$el.prepend(JST[this.loadingTemplate]({text:"REFRESHING SUGGESTIONS"})):this.$el.html(JST[this.loadingTemplate]({text:"LOADING SUGGESTIONS"}))},i.prototype.remove=function(){var e;return e=this.userRowViews.concat(this.interestRowViews),_.chain(e).compact().invoke("remove"),Backbone.View.prototype.remove.call(this)},i}(Backbone.View)}.call(this),function(){var e=function(e,i){function o(){this.constructor=e}for(var n in i)t.call(i,n)&&(e[n]=i[n]);return o.prototype=i.prototype,e.prototype=new o,e.__super__=i.prototype,e},t={}.hasOwnProperty;Academia.RegPath.DiscoverResearchPage=function(t){function i(){return i.__super__.constructor.apply(this,arguments)}return e(i,t),i.prototype.template="reg_path/templates/discover_research_page",i.prototype.events={"click #discover-research-back":"clickBack","click #discover-research-finish":"clickFinish","click #discover-research-skip":"clickSkip"},i.prototype.initialize=function(){return this.userSuggestions=new Academia.RegPath.SuggestedUsers,this.interestSuggestions=new Academia.RegPath.SuggestedInterests,this.on("step_complete",function(){return Academia.broccoli.notify("discover-research-page__finished")}),this.render()},i.prototype.render=function(){return this.$el.html(JST[this.template]()),this.postRender(),this},i.prototype.postRender=function(){return this.ui={$connectButtons:this.$("#discover-research-connect-buttons"),$followSuggestions:this.$("#discover-research-follow-suggestions"),$finishButton:this.$("#discover-research-finish"),$skipLink:this.$("#discover-research-skip")},this.connectButtonsView=new Academia.RegPath.DiscoverResearchConnectButtons({el:this.ui.$connectButtons,model:c.User.current}),this.followSuggestionsView=new Academia.RegPath.DiscoverResearchFollowSuggestions({el:this.ui.$followSuggestions,userSuggestions:this.userSuggestions,interestSuggestions:this.interestSuggestions}),this.listenTo(this.connectButtonsView,"account:connected",this.refreshSuggestions),this.refreshSuggestions()},i.prototype.disableFinishButton=function(){return this.ui.$finishButton.addClass("disabled"),this.ui.$skipLink.addClass("hidden"),this.stopListening(this.userSuggestions,"change:accepted"),this.stopListening(this.interestSuggestions,"change:accepted")},i.prototype.updateFinishButton=function(){var e;return e=this.userSuggestions.where({accepted:!0}).length+this.interestSuggestions.where({accepted:!0}).length,e>0?this.ui.$finishButton.removeClass("disabled").text(I18n.t("reg_path.templates.discover_research_page.follow",{count:e})):this.ui.$finishButton.addClass("disabled").text(I18n.t("reg_path.templates.discover_research_page.follow",{count:0})),this.ui.$skipLink.removeClass("hidden"),this.listenTo(this.userSuggestions,"change:accepted",this.updateFinishButton),this.listenTo(this.interestSuggestions,"change:accepted",this.updateFinishButton)},i.prototype.refreshSuggestions=function(){return this.followSuggestionsView.showLoader(),this.disableFinishButton(),$.when(this.userSuggestions.fetch(),this.interestSuggestions.fetch()).always(function(e){return function(){return e.followSuggestionsView.render(),e.updateFinishButton()}}(this))},i.prototype.clickBack=function(){return this.trigger("go_back")},i.prototype.clickSkip=function(){return this.trigger("step_complete")},i.prototype.clickFinish=function(){return this.ui.$skipLink.addClass("hidden"),this.ui.$finishButton.button("loading"),$.when(this.userSuggestions.save(),this.interestSuggestions.save()).always(function(e){return function(){return e.trigger("step_complete")}}(this))},i.prototype.remove=function(){return this.connectButtonsView.remove(),this.followSuggestionsView.remove(),i.__super__.remove.apply(this,arguments)},i}(Backbone.View)}.call(this),function(){var e=function(e,i){function o(){this.constructor=e}for(var n in i)t.call(i,n)&&(e[n]=i[n]);return o.prototype=i.prototype,e.prototype=new o,e.__super__=i.prototype,e},t={}.hasOwnProperty;Academia.RegPath.DiscoverResearchSuggestionRow=function(t){function i(){return i.__super__.constructor.apply(this,arguments)}return e(i,t),i.prototype.template="reg_path/templates/discover_research_suggestion",i.prototype.className="panel margin-bottom-2x",i.prototype.events={"click .js-reg-path-suggestion-row":"toggleSuggestionAcceptedState"},i.prototype.initialize=function(e){return this.suggestionView=e.suggestionView,this.listenTo(this.model,"change:accepted",this.render),this.render()},i.prototype.render=function(){var e;return e=JST[this.template]({accepted:this.model.get("accepted"),suggestionView:this.suggestionView}),this.$el.html(e),this},i.prototype.toggleSuggestionAcceptedState=function(){return this.model.set("accepted",!this.model.get("accepted"))},i.prototype.remove=function(){return this.suggestionView.remove(),Backbone.View.prototype.remove.call(this)},i}(Backbone.View)}.call(this),function(){var e=function(e,i){function o(){this.constructor=e}for(var n in i)t.call(i,n)&&(e[n]=i[n]);return o.prototype=i.prototype,e.prototype=new o,e.__super__=i.prototype,e},t={}.hasOwnProperty;Academia.RegPath.FindColleaguesConnectButtons=function(t){function i(){return i.__super__.constructor.apply(this,arguments)}return e(i,t),i.prototype.template="reg_path/templates/find_colleagues_connect_buttons",i.prototype.events={"click .js-facebook-connect-button":"facebookConnect","click .js-google-connect-button":"googleConnect"},i.prototype.initialize=function(){return this.render()},i.prototype.render=function(){return this.$el.html(JST[this.template]({facebookConnected:this.model.facebook_connected,googleConnected:this.model.google_connected})),this.postRender()},i.prototype.postRender=function(){return this.ui={$facebookIcon:this.$(".js-facebook-icon"),$googleIcon:this.$(".js-google-icon")},this.on("account:connected",this.render,this)},i.prototype.facebookConnect=function(){return Academia.RegPath.broccoli.notify("find-colleagues-page__facebook-connect-clicked"),this.ui.$facebookIcon.removeClass("fa-facebook").addClass("fa-spinner fa-spin u-tcGrayDarker"),Facebook.authorize().done(function(e){return function(t){return e.handleConnect(Facebook.register_connected(t),"facebook_connected")}}(this))},i.prototype.googleConnect=function(){return Academia.RegPath.broccoli.notify("find-colleagues-page__google-connect-clicked"),this.ui.$googleIcon.removeClass("fa-google-plus").addClass("fa-spinner fa-spin u-tcGrayDarker"),Google.authorize().done(function(e){return function(t){return Google.get_user_info().done(function(i){return e.handleConnect(Google.register_connected(t,i),"google_connected")})}}(this))},i.prototype.handleConnect=function(e,t){return e.done(function(e){return function(){return e.model[t]=!0,e.trigger("account:connected")}}(this)),e.fail(function(e){return function(t){return e.render(),alert((null!=t?t.responseText:void 0)||"Sorry, something went wrong! Please refresh the page and try again.")}}(this))},i}(Backbone.View)}.call(this),function(){var e=function(e,i){function o(){this.constructor=e}for(var n in i)t.call(i,n)&&(e[n]=i[n]);return o.prototype=i.prototype,e.prototype=new o,e.__super__=i.prototype,e},t={}.hasOwnProperty;Academia.RegPath.FindColleaguesPage=function(t){function i(){return i.__super__.constructor.apply(this,arguments)}return e(i,t),i.prototype.template="reg_path/templates/find_colleagues_page",i.prototype.events={"click .js-find-colleagues-select-all":"selectAllClicked","click .js-find-colleagues-follow-button":"followSelected","click .js-find-colleagues-skip-button":"userSkipped"},i.prototype.initialize=function(){return this.render(),this.postRender(),this.suggestedColleagues=new Academia.RegPath.SuggestedColleagues,this.suggestedColleaguesViews=[],this.fetchColleaguesToFollow(),this.listenToScrollEvents(),this.selectAllCheckBoxChecked=!0},i.prototype.render=function(){return this.$el.html(JST[this.template]())},i.prototype.fetchColleaguesToFollow=function(){return this.ui.$colleaguesNotFound.addClass("u-displayNone"),this.ui.$colleaguesLoadingSpinner.removeClass("u-displayNone"),this.removeExistingSuggestions(),this.suggestedColleagues.fetch().done(function(e){return function(t){return t&&t.length>0?(1===t.length&&Academia.RegPath.broccoli.notify("find-colleagues-page__only-one-found"),e.renderCollegueSuggestionsRow()):e.noColleaguesFound()}}(this)).fail(function(e){return function(){return e.noColleaguesFound()}}(this)).always(function(e){return function(){return e.updateHeaderText(),e.updateFollowButton()}}(this))},i.prototype.listenToScrollEvents=function(){return this.ui.$content.on("scroll",function(e){return function(){return e.ui.$contentWrapper.addClass("find-colleagues-affix"),e.ui.$content.unbind("scroll")}}(this))},i.prototype.postRender=function(){return this.ui={$colleaguesHeader:this.$(".js-find-colleagues-header"),$socialButtonsWrapper:this.$(".js-social-buttons-wrapper"),$contentWrapper:this.$(".js-find-colleagues-content-wrapper"),$content:this.$(".js-find-colleagues-content"),$colleaguesLoadingSpinner:this.$(".js-colleagues-loading-spinner"),$colleaguesNotFound:this.$(".js-no-colleagues-found-text"),$skipButton:this.$(".js-find-colleagues-skip-button"),$followButton:this.$(".js-find-colleagues-follow-button"),$pageTitle:this.$(".js-find-colleagues-page-title"),$selectAllCheckbox:this.$(".js-find-colleagues-select-all"),$colleaguesCountLeftLabel:this.$(".js-colleagues-count-left-label"),$followingText:this.$(".js-find-colleagues-following-button-text"),$followingSpinner:this.$(".js-find-colleagues-following-button-spinner")}},i.prototype.renderCollegueSuggestionsRow=function(){var e;return this.ui.$colleaguesLoadingSpinner.addClass("u-displayNone"),this.hideSkipButton(),e=this.suggestedColleagues.last(),this.suggestedColleagues.each(function(t){return function(i){var o,n,r;return o=i===e,r=c.User.from_json(i.get("user")),n=new Academia.RegPath.FindColleaguesSuggestionRow({model:i,user:r,isLast:o}),t.suggestedColleaguesViews.push(n),t.ui.$content.append(n.$el)}}(this)),this.listenTo(this.suggestedColleagues,"change:accepted",this.suggestionChanged)},i.prototype.updateFollowButton=function(){var e,t;return t=this.suggestedColleagues.length,e=this.suggestedColleagues.where({accepted:!0}).length,e>0?(this.ui.$followButton.removeClass("hidden"),this.ui.$followButton.removeClass("Button--disabled"),this.ui.$followingText.text("FOLLOW ("+e+")")):0===t?this.ui.$followButton.addClass("hidden"):(this.ui.$followButton.removeClass("hidden"),this.ui.$followButton.addClass("Button--disabled"),this.ui.$followingText.text("FOLLOW"))},i.prototype.updateHeaderText=function(){var e;return e=this.suggestedColleagues.length,e>0?(this.ui.$colleaguesHeader.removeClass("u-displayNone"),this.ui.$colleaguesCountLeftLabel.text(e+" "+$h.pluralize(e,"Colleague")),this.ui.$pageTitle.text("You have "+e+" "+$h.pluralize(e,"colleague")+" on Academia")):(this.ui.$colleaguesHeader.addClass("u-displayNone"),this.ui.$pageTitle.text("Follow your colleagues on Academia.edu"))},i.prototype.suggestionChanged=function(){return this.showSkipButton(),this.updateFollowButton(),this.adjustSelectAllCheckbox()},i.prototype.selectAllClicked=function(){var e;return e=!this.selectAllCheckBoxChecked,this.suggestedColleagues.each(function(){return function(t){return t.set("accepted",e)}}(this))},i.prototype.adjustSelectAllCheckbox=function(){var e;return e=this.suggestedColleagues.find(function(e){return!e.get("accepted")}),e?(this.selectAllCheckBoxChecked=!1,this.ui.$selectAllCheckbox.removeClass("u-tcGreen").addClass("u-tcGrayDark")):(this.selectAllCheckBoxChecked=!0,this.ui.$selectAllCheckbox.removeClass("u-tcGrayDark").addClass("u-tcGreen"))},i.prototype.noColleaguesFound=function(){return this.renderSocialButtons(),Academia.RegPath.broccoli.notify("find-colleagues-page__no-colleagues-found"),this.ui.$colleaguesLoadingSpinner.addClass("u-displayNone"),this.ui.$colleaguesNotFound.removeClass("u-displayNone"),this.showSkipButton()},i.prototype.renderSocialButtons=function(){return this.socialButtonsView?void 0:(this.socialButtonsView=new Academia.RegPath.FindColleaguesConnectButtons({model:Aedu.User.current}),this.ui.$socialButtonsWrapper.html(this.socialButtonsView.el),this.listenTo(this.socialButtonsView,"account:connected",this.fetchColleaguesToFollow))},i.prototype.followSelected=function(){return this.ui.$followingText.addClass("u-displayNone"),this.ui.$followingSpinner.removeClass("u-displayNone"),this.suggestedColleagues.save().always(function(e){return function(){var t;return t=e.suggestedColleagues.where({accepted:!0}).length,Academia.RegPath.broccoli.notify(0===t?"find-colleagues-page__zero-followed":1===t?"find-colleagues-page__one-followed":"find-colleagues-page__someone-followed"),e.trigger("step_complete")}}(this))},i.prototype.showSkipButton=function(){return this.ui.$skipButton.removeClass("u-displayNone")},i.prototype.hideSkipButton=function(){return this.ui.$skipButton.addClass("u-displayNone")},i.prototype.userSkipped=function(){return Academia.RegPath.broccoli.notify("find-colleagues-page__user-skipped"),this.skip()},i.prototype.removeExistingSuggestions=function(){var e,t,i,o,n;for(this.suggestedColleagues.reset(),i=this.suggestedColleaguesViews,o=[],e=0,t=i.length;t>e;e++)n=i[e],o.push(n.remove());return o},i.prototype.skip=function(){return this.trigger("step_complete")},i}(Backbone.View)}.call(this),function(){var e=function(e,i){function o(){this.constructor=e}for(var n in i)t.call(i,n)&&(e[n]=i[n]);return o.prototype=i.prototype,e.prototype=new o,e.__super__=i.prototype,e},t={}.hasOwnProperty;Academia.RegPath.FindColleaguesSuggestionRow=function(t){function i(){return i.__super__.constructor.apply(this,arguments)}return e(i,t),i.prototype.template="reg_path/templates/find_colleagues_suggestion",i.prototype.events={"click .js-reg-path-colleague-suggestion-row":"toggleSuggestionAcceptedState"},i.prototype.initialize=function(e){return this.model=e.model,this.user=e.user,this.isLast=e.isLast,this.listenTo(this.model,"change:accepted",this.render),this.render()},i.prototype.render=function(){return this.$el.html(JST[this.template]({user:this.user,accepted:this.model.get("accepted"),isLast:this.isLast}))},i.prototype.toggleSuggestionAcceptedState=function(){return this.model.set("accepted",!this.model.get("accepted"))},i}(Backbone.View)}.call(this),function(){var e=function(e,i){function o(){this.constructor=e}for(var n in i)t.call(i,n)&&(e[n]=i[n]);return o.prototype=i.prototype,e.prototype=new o,e.__super__=i.prototype,e},t={}.hasOwnProperty;Academia.RegPath.NameOnlyCoauthorAvatar=function(t){function i(){return i.__super__.constructor.apply(this,arguments)}return e(i,t),i.prototype.template="reg_path/templates/name_only_coauthors/name_only_coauthor_avatar",i.prototype.initialize=function(e){return null==e&&(e={}),this.bgClass=e.bgClass,this.render()},i.prototype.render=function(){return this.$el.html(JST[this.template]({coauthor:this.model.toJSON(),bgClass:this.bgClass}))},i}(Backbone.View)}.call(this),function(){var e=function(e,i){function o(){this.constructor=e}for(var n in i)t.call(i,n)&&(e[n]=i[n]);return o.prototype=i.prototype,e.prototype=new o,e.__super__=i.prototype,e},t={}.hasOwnProperty;Academia.RegPath.NameOnlyCoauthorEmailInput=function(t){function i(){return i.__super__.constructor.apply(this,arguments)}return e(i,t),i.prototype.template="reg_path/templates/name_only_coauthors/name_only_coauthor_email_input",i.prototype.events={"keyup .js-name-only-coauthor-email-input":"updateEmail"},i.prototype.initialize=function(){return this.listenToOnce(Academia.RegPath.eventDispatcher,"nameOnlyCoauthors:contactsImported",this.contactsImported),this.render()},i.prototype.render=function(){return this.$el.html(JST[this.template]({coauthor:this.model.toJSON()})),this.postRender()},i.prototype.postRender=function(){return this.ui={$coauthorEmailInput:this.$(".js-name-only-coauthor-email-input"),$inputCheckmark:this.$(".js-name-only-coauthor-email-input-checkmark")}},i.prototype.contactsImported=function(){return this.render(),this.handleCheckmark()},i.prototype.updateEmail=function(){return this.model.set("email",this.ui.$coauthorEmailInput.val()),this.handleCheckmark()},i.prototype.handleCheckmark=function(){return this.model.hasValidEmail()?this.ui.$inputCheckmark.removeClass("hidden"):this.ui.$inputCheckmark.addClass("hidden")},i}(Backbone.View)}.call(this),function(){var e=function(e,i){function o(){this.constructor=e}for(var n in i)t.call(i,n)&&(e[n]=i[n]);return o.prototype=i.prototype,e.prototype=new o,e.__super__=i.prototype,e},t={}.hasOwnProperty;Academia.RegPath.NameOnlyCoauthorInfo=function(t){function i(){return i.__super__.constructor.apply(this,arguments)}return e(i,t),i.prototype.template="reg_path/templates/name_only_coauthors/name_only_coauthor_info",i.prototype.initialize=function(){return this.validEmail=!1,this.listenTo(this.model,"change",this.updateStuff),this.render()},i.prototype.render=function(){return this.$el.html(JST[this.template]({coauthor:this.model.toJSON(),validEmail:this.validEmail}))},i.prototype.updateStuff=function(){return this.model.hasValidEmail()?(this.validEmail=!0,this.render()):(this.validEmail=!1,this.render())},i}(Backbone.View)}.call(this),function(){var e=function(e,i){function o(){this.constructor=e}for(var n in i)t.call(i,n)&&(e[n]=i[n]);return o.prototype=i.prototype,e.prototype=new o,e.__super__=i.prototype,e},t={}.hasOwnProperty;Academia.RegPath.NameOnlyCoauthorView=function(t){function i(){return i.__super__.constructor.apply(this,arguments)}return e(i,t),i.prototype.template="reg_path/templates/name_only_coauthors/name_only_coauthor",i.prototype.initialize=function(e){return null==e&&(e={}),this.bgClass=e.bgClass,this.render()},i.prototype.render=function(){return this.$el.html(JST[this.template]({coauthor:this.model.toJSON(),isClaimed:this.model.isClaimed(),bgClass:this.bgClass})),this.postRender()},i.prototype.postRender=function(){return this.ui={$coauthorAvatar:this.$(".js-name-only-coauthor-avatar"),$coauthorInfo:this.$(".js-name-only-coauthor-info"),$coauthorEmail:this.$(".js-name-only-coauthor-email")},this.subViews={coauthorAvatar:new Academia.RegPath.NameOnlyCoauthorAvatar({model:this.model,el:this.ui.$coauthorAvatar,bgClass:this.bgClass}),coauthorInfo:new Academia.RegPath.NameOnlyCoauthorInfo({model:this.model,el:this.ui.$coauthorInfo}),coauthorEmailInput:new Academia.RegPath.NameOnlyCoauthorEmailInput({model:this.model,el:this.ui.$coauthorEmail})}},i}(Backbone.View)}.call(this),function(){var e=function(e,i){function o(){this.constructor=e}for(var n in i)t.call(i,n)&&(e[n]=i[n]);return o.prototype=i.prototype,e.prototype=new o,e.__super__=i.prototype,e},t={}.hasOwnProperty;Academia.RegPath.NameOnlyCoauthorsCollectionView=function(t){function i(){return i.__super__.constructor.apply(this,arguments)}return e(i,t),i.prototype.loadingTemplate="reg_path/templates/step_loading",i.prototype.initialize=function(){return this.$el.html(JST[this.loadingTemplate]({loadingText:"Loading..."})),this.listenTo(this.collection,"change",this.checkIfAnyValidEmails),this.renderCollection()},i.prototype.renderCollection=function(){var e,t;return e=0,t=["bg-primary","bg-success","bg-info","bg-warning"],this.nameOnlyCoauthorViews=this.collection.map(function(i){var o;return o=t[e++%t.length],new Academia.RegPath.NameOnlyCoauthorView({model:i,bgClass:o})}),this.$el.html(_.pluck(this.nameOnlyCoauthorViews,"el")),this.postRender()},i.prototype.postRender=function(){return this.listenToOnce(Academia.RegPath.eventDispatcher,"nameOnlyCoauthors:saveButtonClicked",this.updateCollection)},i.prototype.updateCollection=function(){var e;return this.collection.keepOnlyNameOnlySuggestionsWithValidEmails(),Academia.RegPath.broccoli.notify("name-only-coauthors-emails-entered",{num_emails_entered:this.collection.length}),this.collection.source="reg_path_name_only_coauthors",e=this.collection.save(),$.when.apply($,e).always(function(){return Academia.RegPath.eventDispatcher.trigger("nameOnlyCoauthors:stepFinished")})},i.prototype.checkIfAnyValidEmails=function(){return Academia.RegPath.eventDispatcher.trigger(this.collection.any(function(e){return e.hasValidEmail()})?"nameOnlyCoauthors:validEmailExists":"nameOnlyCoauthors:noValidEmailsExist")},i.prototype.remove=function(){return _.invoke(this.nameOnlyCoauthorViews,"remove"),i.__super__.remove.apply(this,arguments)},i}(Backbone.View)}.call(this),function(){var e=function(e,i){function o(){this.constructor=e}for(var n in i)t.call(i,n)&&(e[n]=i[n]);return o.prototype=i.prototype,e.prototype=new o,e.__super__=i.prototype,e},t={}.hasOwnProperty;Academia.RegPath.NameOnlyCoauthorsControlBar=function(t){function i(){return i.__super__.constructor.apply(this,arguments)}return e(i,t),i.prototype.template="reg_path/templates/name_only_coauthors/name_only_coauthors_control_bar",i.prototype.initialize=function(){return this.render()},i.prototype.render=function(){return this.$el.html(JST[this.template]({numCoauthors:this.collection.length}))},i.prototype.affixBar=function(){return this.$el.affix({offset:{top:this.$el.offset().top}})},i}(Backbone.View)}.call(this),function(){var e=function(e,i){function o(){this.constructor=e}for(var n in i)t.call(i,n)&&(e[n]=i[n]);return o.prototype=i.prototype,e.prototype=new o,e.__super__=i.prototype,e},t={}.hasOwnProperty;Academia.RegPath.NameOnlyCoauthorsFooter=function(t){function i(){return i.__super__.constructor.apply(this,arguments)}return e(i,t),i.prototype.template="reg_path/templates/name_only_coauthors/name_only_coauthors_footer",i.prototype.events={"click .js-skip-button":"skipButtonClicked","click .js-save-button":"saveButtonClicked"},i.prototype.initialize=function(){return this.render()},i.prototype.render=function(){return this.$el.html(JST[this.template]),this.postRender()},i.prototype.postRender=function(){return this.ui={$skipButton:this.$(".js-skip-button"),$skipButtonText:this.$(".js-skip-button-text"),$skipButtonSpinner:this.$(".js-skip-button-spinner"),$saveButton:this.$(".js-save-button")},this.listenTo(Academia.RegPath.eventDispatcher,"nameOnlyCoauthors:validEmailExists",this.enableSaveButton),this.listenTo(Academia.RegPath.eventDispatcher,"nameOnlyCoauthors:noValidEmailsExist",this.disableSaveButton)},i.prototype.saveButtonClicked=function(){return Academia.RegPath.eventDispatcher.trigger("nameOnlyCoauthors:saveButtonClicked")},i.prototype.skipButtonClicked=function(){return this.ui.$skipButtonText.hide(),this.ui.$skipButtonSpinner.removeClass("hidden"),1===this.step&&this.collection.invoke("set",{claimStatus:"anticlaim"}),Academia.RegPath.eventDispatcher.trigger("nameOnlyCoauthors:stepFinished")},i.prototype.enableSaveButton=function(){return this.ui.$saveButton.removeClass("btn-clear-muted disabled").addClass("btn-success")},i.prototype.disableSaveButton=function(){return this.ui.$saveButton.removeClass("btn-success").addClass("btn-clear-muted disabled")},i}(Backbone.View)}.call(this),function(){var e=function(e,i){function o(){this.constructor=e}for(var n in i)t.call(i,n)&&(e[n]=i[n]);return o.prototype=i.prototype,e.prototype=new o,e.__super__=i.prototype,e},t={}.hasOwnProperty;Academia.RegPath.NameOnlyCoauthorsHeader=function(t){function i(){return i.__super__.constructor.apply(this,arguments)}return e(i,t),i.prototype.template="reg_path/templates/name_only_coauthors/name_only_coauthors_header",i.prototype.events={"click .js-connect-google-button":"addGoogleContacts"},i.prototype.initialize=function(){return this.headerState="default",this.render()},i.prototype.render=function(){return this.$el.html(JST[this.template]({alertMessage:this.alertMessage(),headerState:this.headerState,alertClass:this.alertClass()})),this.postRender()},i.prototype.postRender=function(){return this.ui={$googleText:this.$(".js-connect-google-button-text")}},i.prototype.addGoogleContacts=function(){return this.headerState="clicked",this.render(),Google.authorize().done(function(e){return function(t){return Google.get_user_info().done(function(i){var o;return o=Google.register_connected(t,i),o.done(function(){return Aedu.User.current.google_connected=!0,Academia.RegPath.broccoli.notify("name-only-coauthors-google-connected"),e.getContactsFromGoogle()}),o.fail(function(e){return alert((null!=e?e.responseText:void 0)||"Sorry, something went wrong! Please refresh the page and try again.")})}).fail(function(){return e.errorAddingGoogleContacts()})}}(this)).fail(function(e){return function(){return e.errorAddingGoogleContacts()}}(this))},i.prototype.getContactsFromGoogle=function(){return this.headerState="connected",this.render(),$.ajax({url:$r.api_v0_imported_google_contacts_path({subdomain_param:"api",names_to_match:this.collection.pluck("name")}),type:"POST",dataType:"json",contentType:"application/json"}).done(function(e){return function(t){return e.collection.matchContacts(t),e.headerState="got_contacts",e.render()}}(this)).fail(function(e){return function(){return e.collection.numMatchedContacts=0,e.headerState="got_contacts",e.render()}}(this))},i.prototype.errorAddingGoogleContacts=function(){return Aedu.User.current.google_connect_error=!0,Academia.RegPath.broccoli.notify("name-only-coauthors-google-connect-failed"),Academia.RegPath.eventDispatcher.trigger("nameOnlyCoauthors:stepFinished")},i.prototype.alertMessage=function(){var e;switch(this.headerState){case"default":return I18n.t("reg_path.name_only_coauthors.header.google_alert_message.default");case"clicked":return I18n.t("reg_path.name_only_coauthors.header.google_alert_message.clicked");case"connected":return I18n.t("reg_path.name_only_coauthors.header.google_alert_message.connected");case"got_contacts":return e=this.collection.numMatchedContacts,e>0?I18n.t("reg_path.name_only_coauthors.header.google_alert_message.autofilled_x_coauthors",{count:e}):I18n.t("reg_path.name_only_coauthors.header.google_alert_message.unable_to_autofill")}},i.prototype.alertClass=function(){return"got_contacts"===this.headerState&&0===this.collection.numMatchedContacts?"alert-danger":"got_contacts"===this.headerState?"name-only-coauthors-alert-success":"alert-warning name-only-coauthors-google-red"},i}(Backbone.View)}.call(this),function(){var e=function(e,i){function o(){this.constructor=e}for(var n in i)t.call(i,n)&&(e[n]=i[n]);return o.prototype=i.prototype,e.prototype=new o,e.__super__=i.prototype,e},t={}.hasOwnProperty;Academia.RegPath.NameOnlyCoauthorsPage=function(t){function i(){return i.__super__.constructor.apply(this,arguments)}return e(i,t),i.prototype.loadingTemplate="reg_path/templates/step_loading",i.prototype.template="reg_path/templates/name_only_coauthors/name_only_coauthors_page",i.prototype.initialize=function(){return this.collection=Academia.RegPath.suggestionsByCoauthor,this.collection.fetched?setTimeout(function(e){return function(){return e.render()}}(this),0):(this.$el.html(JST[this.loadingTemplate]({loadingText:"Loading..."})),this.listenToOnce(this.collection,"sync",this.render),this.listenToOnce(this.collection,"error",function(e){return function(){return e.trigger("step_complete")
}}(this)),this.collection.fetch())},i.prototype.render=function(){return 0===this.collection.length?void this.trigger("step_complete"):(this.collection.length>4&&(this.collection=this.collection.set(this.collection.slice(0,4))),this.$el.html(JST[this.template]),this.postRender())},i.prototype.postRender=function(){return this.ui={$header:this.$(".js-name-only-coauthors-header"),$controlBar:this.$(".js-name-only-coauthors-control-bar"),$collectionEl:this.$(".js-name-only-coauthors-collection"),$footer:this.$(".js-name-only-coauthors-footer")},this.subviews={header:new Academia.RegPath.NameOnlyCoauthorsHeader({collection:this.collection,el:this.ui.$header}),controlBar:new Academia.RegPath.NameOnlyCoauthorsControlBar({collection:this.collection,el:this.ui.$controlBar}),collectionView:new Academia.RegPath.NameOnlyCoauthorsCollectionView({collection:this.collection,el:this.ui.$collectionEl}),footer:new Academia.RegPath.NameOnlyCoauthorsFooter({collection:this.collection,el:this.ui.$footer})},this.subviews.controlBar.affixBar(),this.listenToOnce(Academia.RegPath.eventDispatcher,"nameOnlyCoauthors:stepFinished",function(e){return function(){return e.trigger("step_complete")}}(this)),Academia.RegPath.broccoli.notify("name-only-coauthors-shown",{name_only_coauthors_shown:this.collection.length})},i.prototype.remove=function(){return _.each(this.subviews,function(e){return e.remove()}),i.__super__.remove.apply(this,arguments)},i}(Backbone.View)}.call(this),function(){var e=function(e,i){function o(){this.constructor=e}for(var n in i)t.call(i,n)&&(e[n]=i[n]);return o.prototype=i.prototype,e.prototype=new o,e.__super__=i.prototype,e},t={}.hasOwnProperty;Academia.RegPath.OtherPapersController=function(t){function i(){return i.__super__.constructor.apply(this,arguments)}return e(i,t),i.prototype.initialize=function(e){return this.skipUrl=null!=e?e.skipUrl:void 0,this.initializeSuggestionsCollection(),this.listenToOnce(Academia.RegPath.eventDispatcher,"otherPapers:step_complete",this.incrementSubstep),this.listenToOnce(Academia.RegPath.eventDispatcher,"otherPapers:step_skipped",this.skipAll),this.initializePageManager(),this.$el.html(this.pageManager.$el)},i.prototype.initializeSuggestionsCollection=function(){var e;return this.suggestionsByCoauthor=(e=Academia.RegPath).suggestionsByCoauthor||(e.suggestionsByCoauthor=new Works.SuggestionsByCoauthor([],{source:"reg_path_combined_cluster_claim"})),this.suggestionsByCoauthor.fetched?void 0:this.suggestionsByCoauthor.fetch()},i.prototype.initializePageManager=function(){return this.pageManager=new Academia.RegPath.PageManagerView({steps:this.steps(),skipUrl:this.skipUrl})},i.prototype.steps=function(){return[{viewClass:Academia.RegPath.CombinedClaimPage,options:{page:1}},{viewClass:Academia.RegPath.CombinedClaimPage,options:{page:2}},{viewClass:Academia.RegPath.NameOnlyCoauthorsPage,shouldSkip:function(e){return function(){return e.skipNameOnlyCoauthors()}}(this)}]},i.prototype.skipNameOnlyCoauthors=function(){return 0===this.suggestionsByCoauthor.length||this.suggestionsByCoauthor.coauthor_pagination},i.prototype.skipAll=function(){return this.pageManager.nextPage()},i.prototype.incrementSubstep=function(){return this.trigger("substeps_complete",1)},i}(Backbone.View)}.call(this),function(){var e=function(e,i){function o(){this.constructor=e}for(var n in i)t.call(i,n)&&(e[n]=i[n]);return o.prototype=i.prototype,e.prototype=new o,e.__super__=i.prototype,e},t={}.hasOwnProperty;Academia.RegPath.PageManagerView=function(t){function i(){return i.__super__.constructor.apply(this,arguments)}return e(i,t),i.prototype.initialize=function(e){return this.steps=e.steps,this.backUrl=e.backUrl,this.skipUrl=e.skipUrl,this.headerText=e.headerText,e.showProgress&&(this.progressBar=new Academia.RegPath.ProgressBar({el:"#reg-path-progress-bar",steps:this.stepsForProgressBar()})),null!=e.routerRoot?this.setupRouter(e.routerRoot):(this.currentStepIndex=0,this.shouldSkipCurrentView().done(function(e){return function(t){return t?e.showNextStep():e.setCurrentView()}}(this)))},i.prototype.setCurrentView=function(){var e,t;return null!=(e=this.currentView)&&e.remove(),this.currentView=new this.steps[this.currentStepIndex].viewClass(this.steps[this.currentStepIndex].options),this.listenToOnce(this.currentView,"step_complete",this.showNextStep),this.listenToOnce(this.currentView,"go_back",this.showPreviousStep),$.contains(document.documentElement,this.currentView.el)||this.$el.html(this.currentView.el),null!=(t=this.router)&&t.navigate(this.steps[this.currentStepIndex].path),null!=this.progressBar&&(this.progressBar.expandToStep(this.stepsForProgressBar(this.currentStepIndex)),this.listenTo(this.currentView,"substeps_complete",this.incrementSubstepProgress)),null!=this.headerText&&this.currentView.headerText?this.headerText.html(this.currentView.headerText):void 0},i.prototype.setupRouter=function(e){var t;return t={},_.each(this.steps,function(e){return function(i,o){return t[i.path]=function(){return e.currentStepIndex=_.clone(o),e.shouldSkipCurrentView().done(function(t){return t?e.showNextStep():e.setCurrentView()})}}}(this)),t[""]=function(e){return function(){return e.currentStepIndex=0,e.shouldSkipCurrentView().done(function(t){return t?e.showNextStep():e.setCurrentView()})}}(this),this.router=new(Backbone.Router.extend({routes:t})),Backbone.History.started?void 0:Backbone.history.start({root:e})},i.prototype.showNextStep=function(){return this.currentStepIndex++,this.steps[this.currentStepIndex]?this.shouldSkipCurrentView().done(function(e){return function(t){return t?e.showNextStep():e.setCurrentView()}}(this)):void this.nextPage()},i.prototype.showPreviousStep=function(){return this.currentStepIndex--,this.currentStepIndex<0?this.previousPage():this.shouldSkipCurrentView().done(function(e){return function(t){return t?e.showPreviousStep():e.setCurrentView()}}(this))},i.prototype.shouldSkipCurrentView=function(){var e;return null==this.steps[this.currentStepIndex].shouldSkip?$.when(!1):(e=$.when(this.steps[this.currentStepIndex].shouldSkip()),e.then(null,function(){return!0}),e)},i.prototype.nextPage=function(){var e;return e=this.skipUrl,_.isFunction(e)&&(e=e()),window.location.href=e||"/"},i.prototype.previousPage=function(){var e;return e=this.backUrl,_.isFunction(e)&&(e=e()),window.location.href=e||"/"},i.prototype.stepsForProgressBar=function(e){return null==e&&(e=this.steps.length),0===e?0:_.chain(this.steps.slice(0,+(e-1)+1||9e9)).map(function(e){return e.subSteps||1}).reduce(function(e,t){return e+t}).value()},i.prototype.incrementSubstepProgress=function(e){var t,i;return i=this.stepsForProgressBar(this.currentStepIndex)+e,null!=(t=this.progressBar)?t.expandToStep(i):void 0},i}(Backbone.View)}.call(this),function(){var e=function(e,i){function o(){this.constructor=e}for(var n in i)t.call(i,n)&&(e[n]=i[n]);return o.prototype=i.prototype,e.prototype=new o,e.__super__=i.prototype,e},t={}.hasOwnProperty;Academia.RegPath.PreUploadQuestion=function(t){function i(){return i.__super__.constructor.apply(this,arguments)}return e(i,t),i.prototype.template="reg_path/templates/pre_upload_question",i.prototype.events={"click .js-pre-upload-yes":"handleYesClick","click .js-pre-upload-no":"handleNoClick"},i.prototype.initialize=function(e){return null==e&&(e={}),this.publisherStatus=e.publisherStatus,this.render()},i.prototype.render=function(){return this.$el.html(JST[this.template]({questionText:this.questionText()})),this},i.prototype.handleYesClick=function(){return this.publisherStatus.get("has_published")?(this.publisherStatus.set("wants_to_share",!0),this.trigger("step_complete")):(this.publisherStatus.set("has_published",!0),this.render())},i.prototype.handleNoClick=function(){return this.publisherStatus.set("wants_to_share",!1),this.trigger("step_complete")},i.prototype.questionText=function(){return this.publisherStatus.get("has_published")?"Do you have a PDF of a recent paper that you'd like to share?":"Have you authored a paper in a peer-reviewed journal?"},i}(Backbone.View)}.call(this),function(){var e=function(e,i){function o(){this.constructor=e}for(var n in i)t.call(i,n)&&(e[n]=i[n]);return o.prototype=i.prototype,e.prototype=new o,e.__super__=i.prototype,e},t={}.hasOwnProperty;Academia.RegPath.ProgressBar=function(t){function i(){return i.__super__.constructor.apply(this,arguments)}return e(i,t),i.prototype.initialize=function(e){return this.steps=e.steps,this.currentIndex=0,this.ui={$completed:this.$(".js-progress-bar-completed"),$pct:$(".js-progress-bar-pct-complete")},this.updatePercentIndicator(0)},i.prototype.expandToStep=function(e){var t,i;if(e!==this.currentIndex)return t=e>=this.steps-1?100:100*e/(this.steps-1),i=t+"%",e>this.currentIndex?this.ui.$completed.animate({width:i}):this.ui.$completed.css({width:i}),this.updatePercentIndicator(t),this.currentIndex=e},i.prototype.updatePercentIndicator=function(e){return this.ui.$pct.length>0?this.ui.$pct.text(Math.round(e)+"% Complete"):void 0},i}(Backbone.View)}.call(this),function(){var e=function(e,i){function o(){this.constructor=e}for(var n in i)t.call(i,n)&&(e[n]=i[n]);return o.prototype=i.prototype,e.prototype=new o,e.__super__=i.prototype,e},t={}.hasOwnProperty;Academia.RegPath.ReaderMessageExpandingForm=function(t){function i(){return i.__super__.constructor.apply(this,arguments)}return e(i,t),i.prototype.template="reg_path/templates/reader_message_expanding_form",i.prototype.events={"submit .js-splash-download-feedback-form":"submit","click .js-reader-message-skip":"skipReaderMessage"},i.prototype.initialize=function(e){return this.submittedOccupation=!1,this.image=$image_url(e.authorPhoto),this.name=e.authorName,this.workId=e.workId,this.attachmentId=e.attachmentId,this.message="Tell "+this.name+" more about yourself and what sparked your interest in this paper...",this.affiliation=e.affiliation,this.publisherStatus=e.publisherStatus,this.occupationNormalPaddingTop="0px",this.occupationErrorPaddingTop="10px",this.render()},i.prototype.render=function(){return this.$el.html(JST[this.template]({name:this.name,image:this.image,message:this.message,affiliation:this.affiliation})),this.postRender()},i.prototype.postRender=function(){return this.ui={$message:this.$(".js-download-message-comment"),$occupation:this.$(".js-select-occupation"),$saveButton:this.$(".js-download-message-save"),$messageForm:this.$(".js-message-form-collapsed"),$title:this.$(".js-reader-message-title")},this.ui.$occupation.css("padding-top",this.occupationNormalPaddingTop)},i.prototype.saveResponse=function(){return $.ajax({type:"POST",dataType:"json",url:$r.api_v0_reader_messages_path({subdomain_param:"api"}),data:{occupation:{name:this.ui.$occupation.val().trim()},message:this.ui.$message.val().trim(),attachment_id:this.attachmentId,work_id:this.workId,source:"sutd"}})},i.prototype.submitFeedback=function(){return this.disableSaveButton(),this.saveResponse().done(function(e){return function(t){return t.success?e.trigger("step_complete"):t.errors?(e.displayErrors(t.errors),e.enableSaveButton()):(alert("Something went wrong"),e.enableSaveButton())}}(this)).fail(function(){return function(){return alert("Something went wrong")}}(this))},i.prototype.displayErrors=function(e){return this.ui.$occupation.removeClass("TextInput--error").css({"padding-top":this.occupationNormalPaddingTop}),this.ui.$message.removeClass("TextInput--error").css({"padding-top":"14px"}),this.$(".js-swp-splash-input-inner-error").remove(),_.each(e,function(e){return function(t){var i,o;return o=t[0],i=t[1],"name"===o&&e.ui.$occupation.addClass("TextInput--error").after(e.renderErrorHTML(i)).css({"padding-top":e.occupationErrorPaddingTop}),"message"===o?e.ui.$message.addClass("TextInput--error").before(e.renderErrorHTML("Please enter a message")).css({"padding-top":20}):void 0}}(this))},i.prototype.renderErrorHTML=function(e){return"<div class='js-swp-splash-input-inner-error swp-splash-input-inner-error u-tcRed a-fadeInDownShort' style='left:14px;z-index:1'>"+e+"</div>"},i.prototype.disableSaveButton=function(){return this.ui.$saveButton.prop("disabled",!0).html('<i class="fa fa-spinner fa-spin"></i>')},i.prototype.enableSaveButton=function(){return this.ui.$saveButton.prop("disabled",!1).html("SEND")},i.prototype.skipReaderMessage=function(e){return e.preventDefault(),this.trigger("step_complete")},i.prototype.submit=function(e){return e.preventDefault(),this.submittedOccupation?this.submitFeedback():this.submitOccupation()},i.prototype.submitOccupation=function(){var e,t;return e=this.ui.$occupation.val().trim(),e.length>2?(null!=(t=this.publisherStatus)&&t.inferFromOccupation(e),this.expandMessageForm(),this.submittedOccupation=!0):this.displayErrors([["name","Please enter your occupation"]])},i.prototype.expandMessageForm=function(){return this.displayErrors(),this.ui.$messageForm.collapse("show"),this.ui.$saveButton.addClass("Button--green").html("Send"),this.ui.$title.html(this.renderNewTitle()),this.ui.$occupation.addClass("TextInput--dark")},i.prototype.renderNewTitle=function(){return"<div>Leave a note to help&nbsp;<span class='u-fw700'>"+_.escape(this.name)+"</span></div><div>learn how their research is helping you.</div>"},i.prototype.occupations=_.keys(_.groupBy(["Adjunct","Alumnus","Department Member","Emeritus","Faculty Member","Graduate Student","Post-Doc","Undergraduate","PhD Student","MD Student","JD Student","MBA Student","Graduate Student","Undergraduate Student","High School Student","Accountant","Archaeologist","Architect","Architecture Student","Artist","Assistant Professor","BA Student","College Student","Consultant","Diploma","Diplomat","Docente","Doctor","Educator","Employee","Engineer","Engineering Student","Graduate Student","High School Student","Intern","JD Student","Journalist","Law Student","Lawyer","Lecturer","Librarian","MA Student","MBA Student","MD Student","MSc Student","Manager","Masters Student","Nurse","Pastor","PhD Student","Professor","Project Manager","Psychologist","Researcher","Retired","Teacher","Translator","Undergraduate Student","University Student","Writer","ATM Machine Servicer","Able Seaman","Account Collector","Accounting Specialist","Adjustment Clerk","Administrative Assistant","Administrative Law Judge","Administrative Service Manager","Admiralty Lawyer","Adult Literacy and Remedial Education Teacher","Advertising Account Executive","Advertising Agency Coordinator","Aeronautical & Aerospace Engineer","Aerospace Engineering Technician","Agricultural Crop Farm Manager","Agricultural Engineer","Agricultural Equipment Operator","Agricultural Inspector","Agricultural Product Sorter","Agricultural Sciences Professor","Agricultural Technician","Air Crew Member","Air Crew Officer","Air Traffic Controller","Aircraft Assembler","Aircraft Body and Bonded Structure Repairer","Aircraft Cargo Handling Supervisor","Aircraft Examiner","Aircraft Launch and Recovery Officer","Aircraft Launch and Recovery Specialist","Aircraft Mechanic","Airfield Operations Specialist","Airline Flight Attendant","Airline Flight Control Administrator","Airline Flight Operations Administrator","Airline Flight Reservations Administrator","Airport Administrator","Airport Design Engineer","Alcohol & Drug Abuse Assistance Coordinator","Alumni Relations Coordinator","Ambulance Driver","Amusement Park & Recreation Attendant","Anesthesiologist (MD)","Animal Breeder","Animal Control Worker","Animal Husbandry Worker Supervisor","Animal Keeper/Groomer","Animal Kennel Supervisor","Animal Scientist","Animal Trainer","Animation Cartoonist","Answering Service Operator","Anthropology and Archeology Professor","Anti-Terrorism Intelligence Agent","Appeals Referee","Aquaculturist (Fish Farmer)","Aquarium Curator","Architecture Professor","Area, Ethnic, and Cultural Studies Professor","Armored Assault Vehicle Crew Member","Armored Assault Vehicle Officer","Art Appraiser","Art Director","Art Restorer","Art Therapist","Art, Drama, and Music Professor","Artillery and Missile Crew Member","Artillery and Missile Officer","Artists Agent (Manager)","Athletes' Business Manager","Athletic Coach","Athletic Director","Athletic Trainer","Atmospheric and Space Scientist","Audio-Visual Collections Specialist","Audiovisual Production Specialist","Automobile Mechanic","Automotive Body Repairer","Automotive Engineer","Automotive Glass Installer","Avionics Technician","Baggage Porter and Bellhop","Baker (Commercial)","Ballistics Expert","Bank Examiner","Bank Teller","Bank and Branch Manager","Benefits Manager","Bicycle Mechanic","Billing Specialist","Bindery Machine Set-Up Operator","Bindery Machine Tender","Biological Technician","Biology Professor","Biomedical Engineer","Biomedical Equipment Technician","Boat Builder","Book Editor","Border Patrol Agent","Brattice Builder","Bridge and Lock Tender","Broadcast News Analyst","Broadcast Technician","Broker's Floor Representative","Brokerage Clerk","Budget Accountant","Budget Analyst","Building Inspector","Building Maintenance Mechanic","Bulldozer / Grader Operator","Bus Boy / Bus Girl","Bus Driver (School)","Bus Driver (Transit)","Bus and Truck Mechanic","Business Professor","Business Service Specialist","Cabinet Maker","Camp Director","Caption Writer","Cardiologist (MD)","Cardiopulmonary Technologist","Career Counselor","Cargo and Freight Agent","Carpenter's Assistant","Carpet Installer","Cartographer (Map Scientist)","Cartographic Technician","Cartoonist (Publications)","Casino Cage Worker","Casino Cashier","Casino Dealer","Casino Floor Person","Casino Manager","Casino Pit Boss","Casino Slot Machine Mechanic","Casino Surveillance Officer","Casting Director","Catering Administrator","Ceiling Tile Installer","Cement Mason","Ceramic Engineer","Certified Public Accountant (CPA)","Chaplain (Prison, Military, Hospital)","Chauffeur","Chemical Engineer","Chemical Equipment Operator","Chemical Plant Operator","Chemical Technician","Chemistry Professor","Chief Financial Officer","Child Care Center Administrator","Child Care Worker","Child Life Specialist","Child Support Investigator","Child Support Services Worker","City Planning Aide","Civil Drafter","Civil Engineer","Civil Engineering Technician","Clergy Member (Religious Leader)","Clinical Dietitian","Clinical Psychologist","Clinical Sociologist","Coatroom and Dressing Room Attendant","College/University Professor","Commercial Designer","Commercial Diver","Commercial Fisherman","Communication Equipment Mechanic","Communications Professor","Community Health Nurse","Community Organization Worker","Community Welfare Worker","Compensation Administrator","Compensation Specialist","Compliance Officer","Computer Aided Design (CAD) Technician","Computer Applications Engineer","Computer Controlled Machine Tool Operator","Computer Customer Support Specialist","Computer Hardware Technician","Computer Operator","Computer Programmer","Computer Science Professor","Computer Security Specialist","Computer Software Engineer","Computer Software Technician","Computer Systems Engineer","Computer and Information Scientist, Research","Computer and Information Systems Manager","Congressional Aide","Conservation Scientist","Construction Driller","Construction Laborer","Construction Manager","Construction Trades Supervisor","Contract Administrator","Contract Specialist","Control Center Specialist (Military)","Controller (Finance)","Cook (Cafeteria)","Cook (Fast Food)","Cook (Private Household)","Cook (Restaurant)","Cook (Short Order)","Copy Marker","Copy Writer","Corporation Lawyer","Correction Officer","Correspondence Clerk","Cosmetologist (Hair Stylist)","Cost Accountant","Cost Analysis Engineer","Cost Estimator","Costume Attendant","Counseling Psychologist","Counter and Rental Clerk","County or City Auditor","Courier/Messenger","Court Administrator","Court Clerk","Court Reporter","Craft Artist","Crane Operator","Credit Adjuster","Credit Analyst","Credit Reporter","Criminal Investigator (Detective)","Criminal Justice Professor","Criminal Lawyer","Crop Workers Supervisor","Crossing Guard","Custom Tailor","Customer Service Representative (Utilities)","Customer Service Supervisor","Customs Inspector","Cutting Machine Operator","Dairy Technologist","Database Administrator","Deaf Students Teacher","Delivery Driver","Dental / Orthodontic Office Administrator","Dental Assistant","Dental Hygienist","Dental Laboratory Technician","Dentist (MD)","Dermatologist (MD)","Desktop Publishing Specialist","Developmental Psychologist","Die Cutter Operator","Dietetic Technician","Dietitian and Nutritionist","Directory Assistance Operator","Disabled Students Teacher","Disk Jockey","Dispatcher (Safety Vehicles)","Door To Door Salesman","Dry Wall Installer","EEG Technician/Technologist","Economics Professor","Editorial Writer","Education Professor","Education and Training Administrator","Educational Administrator","Educational Psychologist","Educational Resource Coordinator","Educational Therapist","Electric Meter Installer","Electric Motor Mechanic","Electrical Drafter","Electrical Engineer","Electrical Parts Reconditioner","Electrical Technician","Electrical and Electronic Inspector","Electro-Mechanical Technician","Electromechanical Equipment Assembler","Electronic Drafter","Electronics Engineer","Electronics Technician","Elementary School Administrator","Elementary School Teacher","Elevator Mechanic","Emergency Management Specialist","Emergency Medical Technician","Employee Benefits Analyst","Employee Training Instructor","Employment Administrator","Employment Interviewer","Employment and Placement Specialist","Engine and Machine Assembler","Engineering Manager","Engineering Professor","English Language and Literature Professor","Environmental Compliance Inspector","Environmental Disease Analyst","Environmental Engineer","Environmental Planner","Environmental Research Analyst","Environmental Science Professsor","Environmental Science Technician","Environmental Technician","Equal Opportunity Representative","Etcher/Engraver","Excavating Machine Operator","Excavating Supervisor","Executive Secretary","Exercise Physiologist","Exhibit Artist","Exhibit Designer","Experimental Psychologist","Explosives Worker","Export Agent","Fabric and Apparel Patternmaker","Facilities Planner","Factory Layout Engineer","Family Caseworker","Family Practitioner (MD)","Farm Equipment Mechanic","Farm Hand","Farm Labor Contractor","Farm Manager","Farm Products Purchasing Agent","Farmer","Fashion Artist","Fashion Coordinator","Fashion Designer","Fashion Model","Fence Installer","Field Contractor","Field Health Officer","File Clerk","Film Editor","Film Laboratory Technician","Finance Manager","Financial Aid Counselor","Financial Analyst","Financial Examiner","Financial Planner","Financial Services Sales Agent","Fine Artist","Fire Inspector","Fire Investigator","Fire Prevention Engineer","Fire Protection Engineer","Fire Protection Engineering Technician","Fish & Game Warden","Fish Hatchery Specialist","Fishery Worker Supervisor","Fitness Trainer","Flight Engineer","Floral Designer","Food & Drug Inspector","Food Batchmaker","Food Preparation Worker","Food Science Technician","Food Technologist","Foreign Exchange Trader","Foreign Language Interpreter","Foreign Language Teacher","Foreign Language Translator","Foreign Service Officer","Foreign Service Peacekeeping Specialist","Foreign Student Adviser","Forensic Science Technician","Forensics Psychologist","Forest Engineer","Forest Fire Inspector","Forest Fire Prevention Supervisor","Forest and Conservation Technician","Forestry and Conservation Professor","Forging Machine Operator","Forklift and Industrial Truck Operator","Fraud Investigator","Freight and Stock Handler","Fund Raiser","Funds Development Administrator","Funeral Attendant","Funeral Director","Furniture Designer","Furniture Finisher","Game Runner","Gas Plant Operator","General Farmworker","General Internist (MD)","General and Operations Manager","Geography Professor","Geological Data Technician","Geological Technician (Drafter)","Glass Blower","Gluing Machine Operator","Golf Course Superintendent","Government Budget Analyst","Government Property Inspector","Government Service Executive","Graduate Teaching Assistant","Graphic Designer","Greenhouse and Nursery Manager","Gynecologist (MD)","Hand Sewer","Hand and Portable Tool Mechanic","Harbor Master","Harbor, Lake & Waterways Police","Hardwood Floor Finisher","Hazardous Materials Removal Worker","Hazardous Waste Management Analyst","Health Care Facilities Inspector","Health Case Manager","Health Educator","Health Psychologist","Hearing Officer","Heating, A/C, Refrigeration Technician","Heavy Equipment Mechanic","High School Administrator","High School Guidance Counselor","High School Teacher","Highway Maintenance Worker","Highway Patrol Pilot","Historic Site Administrator","Historical Archivist","History Professor","Home Appliance Installer","Home Appliance Repairer","Home Economics Teacher","Home Economist","Home Entertainment System Installer","Home Health Aide","Home Health Technician","Horticultural Worker Supervisor","Horticulture Therapist","Horticulturist (Vineyard)","Hospital Administrator","Hospital Nurse","Host/Hostess","Hotel Convention/Events Coordinator","Hotel Manager","Hotel and Motel Desk Clerk","Housekeeping Supervisor","Human Factors Psychologist","Human Resources Management Advisor","Human Resources Management Consultant","Hydraulic Engineer","IT Administrator (Information Technology)","Immigration Inspector","Industrial Air Pollution Analyst","Industrial Arts Teacher","Industrial Designer","Industrial Engineer","Industrial Engineering Technician","Industrial Health Engineer","Industrial Hygienist","Industrial Machinery Mechanic","Industrial Relations Analyst","Industrial Relations Specialist","Industrial Therapist","Industrial Waste Inspector","Industrial-Organizational Psychologist","Infantry Officer","Instructional Coordinator","Instructor, Police-Canine Service","Instrument Technician","Insulation Installer","Insurance Adjuster","Insurance Agent","Insurance Appraiser (Auto Damage)","Insurance Claim Examiner","Insurance Claims Adjuster","Insurance Claims Clerk","Insurance Estate Planner","Insurance Lawyer","Insurance Policy Processing Clerk","Insurance Underwriter","Intelligence Specialist (Government)","Interior Designer","Internal Auditor","Interpreter for the Hearing Impaired","Irradiated-Fuel Handler","Irrigation Engineer","Janitorial Supervisor","Job Analyst","Job Development Specialist","Job Printer (Graphic Arts)","Kindergarten Teacher","Labor Relations Advisor","Laboratory Tester Land Surveyor","Landscape Architect","Landscape Contractor","Lathe Operator","Law Clerk","Law Professor","Legal Assistant","Legal Secretary","Legislative Assistant","Library Assistant","Library Consultant","Library Science Professor","Library Technician","License Clerk","Licensed Practical Nurse (LPN)","Livestock Commission Agent","Loan Clerk","Loan Counselor","Loan Interviewer","Loan Officer","Locomotive Engineer","Log Grader and Scaler","Logging Tractor Operator","Logging Worker Supervisor","Lyricist","Machine Feeder and Offbearer","Mail Clerk","Mail Machine Operator","Mail Superintendent","Maintenance Supervisor","Makeup Artists - Theatrical","Management Consultant (Analyst)","Manicurist and Pedicurist","Manual Arts Therapist","Mapping Technician","Marina Boat Charter Administrator","Marine Architect","Marine Cargo Surveyor","Marine Drafter","Marine Engineer","Marine Surveyor","Marine and Aquatic Biologist","Marine/Port Engineer","Market Research Analyst","Marketing Manager","Marking Clerk","Marriage and Family Therapist","Massage Therapist","Materials Engineer","Materials Inspector","Materials Scientist","Math Professor","Mathematical Technician","Meat Packer","Meat, Poultry, and Fish Trimmer","Mechanical Drafter","Mechanical Engineer","Mechanical Engineering Technician","Mechanical Inspector","Medical Administrative Assistant","Medical Appliance Technician","Medical Assistant","Medical Equipment Preparer","Medical Examiner/Coroner","Medical Insurance Claims Analyst","Medical Laboratory Technician","Medical Photographer","Medical Records Administrator","Medical Records Technician","Medical Secretary","Medical Technologist","Medical Transcriptionist","Medical and Public Health Social Worker","Medical and Scientific Illustrator","Mental Health Counselor","Mentally Retarded Students Teacher","Merchandise Displayer","Metal Casting Machine Operator","Metal Fabricator","Meter Mechanic","Middle School Administrator","Middle School Guidance Counselor","Middle School Teacher","Military Analyst","Military Officer","Military-Enlisted Personnel","Mill Worker","Mine Cutting Machine Operator","Mine Inspector","Mining Engineer","Mining Machine Operator","Mining Shovel Machine Operator","Missing Person Investigator","Missionary Worker (Foreign Country)","Model Maker","Model Maker, Metal and Plastic","Motion Picture Director","Motion Picture Projectionist","Motor Vehicle Inspector","Motorboat Mechanic","Motorcycle Mechanic","Municipal Fire Fighting Supervisor","Museum Curator","Museum Technician and Conservator","Music Arranger/Orchestrator","Music Director","Music Teacher","Music Therapist","Musical Instrument Tuner","Narcotics Investigator (Government)","New Accounts Clerk (Banking)","Newspaper Editor","Newspaper/Magazines Writer","Non-Retail Sales Supervisor","Nuclear Engineer","Nuclear Equipment Operation Technician","Nuclear Fuels Research Engineer","Nuclear Medicine Technologist","Nuclear Monitoring Technician","Nuclear Power Reactor Operator","Nuclear Technician","Numerical Tool Programmer","Nurse Practitioner","Nurse's Aide","Nursery Worker","Nursing Professor","Obstetrician (MD)","Occupational Analyst","Occupational Physician (MD)","Occupational Safety & Health Inspector","Occupational Therapist","Occupational Therapy Assistant","Oceanographic Assistant","Office Clerk","Office Machine Mechanic","Office Supervisor","Offset Press Operator","Operating Engineer","Operations Management Analyst","Ophthalmic Laboratory Technician","Ophthalmologist (MD)","Oral and Maxillofacial Surgeon","Order Clerk","Order Filler, Wholesale and Retail Sale","Ordinary Seaman","Ornamental-Metalwork Designer","Orthodontic Assistant","Orthodontic Laboratory Technician","Orthodontist (MD)","Outdoor Education Teacher","Overhead Door Installer","PBX Installer and Repairer","Package Designer","Packager","Packaging Machine Operator","Packer","Painter (Industrial)","Painter, Construction and Maintenance","Painter, Transportation Equipment","Park Naturalist","Parking Enforcement Officer","Parking Lot Attendant","Parole Officer","Parts Salesperson","Paste-Up Worker (Graphic Arts)","Patent Agent","Patent Lawyer","Pathologist (MD)","Payroll and Timekeeping Clerk","Peace Corps Worker (Volunteer)","Pediatric Dentist","Pediatrician (MD)","Personal Service Supervisor","Personnel Administrator","Personnel Assistant","Personnel Recruiter","Pest Control Worker","Pesticide Handler","Petroleum Engineer","Petroleum Geologist","Petroleum Laboratory Assistant","Petroleum Refinery Operator","Petroleum Technician","Pharmacy Aide","Pharmacy Technician","Philosophy and Religion Professor","Photo-Optics Technician","Photoengraver (Graphic Arts)","Photogrammetric Engineer","Photographic Equipment Mechanic","Photographic Process Worker","Physical Education Instructor","Physical Therapist Aide","Physical Therapist","Physical Therapy Assistant","Physician's Assistant (PA)","Physician's Office Nurse","Physics Professor","Pilot (Commercial Airlines)","Plant Breeder","Plant Manager (Manufacturing)","Plasterer and Stucco Mason","Plastic Surgeon","Platemaker (Graphic Arts)","Plumber (Plumbing Contractor)","Poet","Police Artist","Police Identification and Records Officer","Police Officer","Police and Detectives Supervisor","Political Science Professor","Political Scientist","Postal Service Clerk","Postal Service Mail Carrier","Postal Service Mail Sorter","Postmasters","Power Plant Operator","Power-Line Mechanic","Precision Devices Inspector","Preschool Administrator","Preschool Teacher","Pressing Machine Operator","Pressure Vessel Inspector","Printing/Graphic Arts Reproduction Technician","Printmaker (Artist)","Private Detective","Private Investigator","Private Nurse","Private Sector Executive","Probate Lawyer","Probation Officer","Procurement Clerk","Product Planner","Product Promoter","Product Safety Engineer","Production Planner","Production, Planning, and Expediting Clerk","Professional Sports Scout","Proofreader","Property Accountant","Property Assessor","Property Manager","Props and Lighting Technician","Prosthetic Technician","Psychiatric Aide","Psychiatric Technician","Psychiatrist (MD)","Psychology Professor","Public Health Service Officer","Public Relations Manager","Public Relations Specialist","Public Transportation Inspector","Publications Editor","Purchasing Agent","Purchasing Manager","Quality Control Coordinator","Quality Control Engineer","Quality Control Inspector","Quality Control Technician","Quarry Worker","Radar and Sonar Technician","Radiation Protection Engineer","Radiation Therapist","Radio & TV Announcer","Radio & TV News Commentator","Radio & TV Newscaster","Radio & TV Producer","Radio & TV Program Director","Radio & TV Sports Announcer","Radio & TV Station Administrator","Radio & TV Talk Show Host","Radio Mechanic","Radio Operator","Radiologic Technician","Radiologic Technologist","Radiologist (MD)","Rail Yard Engineer","Railroad Conductor","Railroad Engineer","Railroad Inspector","Rancher","Range Manager","Real Estate Appraiser","Real Estate Assessor","Real Estate Broker","Real Estate Lawyer","Real Estate Sales Agent","Recreation Leader","Recreational Protective Service Worker","Recreational Therapist","Recreational Vehicle Mechanic","Referee / Umpire","Refuse and Recyclable Material Collector","Registrar Administrator","Reliability Engineer","Religious Institution Education Coordinator","Reservation Ticket Agent","Residence Counselor","Resource Recovery Engineer","Resource Teacher","Respiratory Care Technician","Respiratory Therapist","Respiratory Therapy Technician","Restaurant Food Coordinator","Restaurant Manager","Retail Buyer","Retail Customer Service Representative","Retail Inventory Control Analyst","Retail Sales Department Supervisor","Retail Salesperson","Retail Store Manager","Revenue Agent (Government)","Safety Inspector","Sales Engineer","Sales Floor Stock Clerk","Sales Manager","Sales Promoter","Sales Representative ( Education Programs)","Sales Representative (Agricultural Products)","Sales Representative (Aircraft)","Sales Representative (Chemicals & Drugs)","Sales Representative (Computers)","Sales Representative (Graphic Arts)","Sales Representative (Hotel Furnishings)","Sales Representative (Instruments)","Sales Representative (Mechanical Equipment)","Sales Representative (Medical Equipment)","Sales Representative (Printed Advertising)","Sales Representative (Radio & TV Time)","Sales Representative (Telecommunications)","Sales Representative (Teleconferencing)","Sales Representitive (Psychological Tests)","Sanitary Engineer","Sawing Machine Operator","Scanner Operator","School Nurse","School Plant Consultant","School Psychologist","Scientific Linguist","Scientific Photographer","Screen Printing Machine Operator","Screen Writer","Script Editor","Securities Broker","Security Guard","Security and Fire Alarm Systems Installer","Self-Enrichment Education Teacher","Septic Tank and Sewer Servicer","Service Station Attendant","Set Designer","Set Illustrator","Sewing Machine Operator","Sheet Metal Worker","Ship Carpenter and Joiner","Ship Engineer","Ship Master","Ship Mate","Ship Pilot","Shipping, Receiving, and Traffic Clerk","Shoe Machine Operator","Signal Switch Repairer","Skin Care Specialist","Small Engine Mechanic","Social Psychologist","Social Science Research Assistant","Social Service Volunteer","Social Welfare Administrator","Social Work Professor","Social Worker","Social and Community Service Manager","Social and Human Service Assistant","Sociology Professor","Soil Conservation Technician","Soil Conservationist","Soil Engineer","Soil Scientist","Solar Energy Systems Designer","Solid Waste Disposal Administrator","Sound Engineering Technician","Special Education Administrator","Special Force","Special Forces Officer","Speech Pathologist","Speech Writer","Sport Psychologist","Sport's/Entertainment Agent (Manager)","Sports Agent","Sports Events Business Manager","Sports Physician (Orthopedist)","Sportswriter (Journalist)","Stained Glass Artist","Standards Engineer","Statement Clerk","Stationary Engineer","Statistical Assistant","Steel Worker","Storage and Distribution Manager","Stress Analyst Engineer","Structural Drafter","Structural Engineer","Student Admissions Administrator","Student Affairs Administrator","Student Financial Aid Administrator","Substance Abuse Counselor","Subway and Streetcar Conductor","Surgeon (MD)","Surgical Technician/Technologist","Survey Researcher","Surveying Technician","Switchboard Operator","Systems Accountant","Systems Analyst, Data Processing","Tax Accountant","Tax Auditor","Tax Collector","Tax Examiner","Tax Lawyer","Tax Preparer","Taxi Driver","Teacher of the Blind","Teachers Aide","Team Assembler","Technical & Scientific Publications Editor","Technical Directors/Manager","Technical Illustrator","Technical Publications Writer","Technological Espionage Intelligence Agent","Telecommunications Line Installer and Repairer","Telecommunications Maintenance Worker","Telecommunications Technician","Telephone Station Installer","Textile Bleaching and Dyeing Machine Operator","Textile Cutting Machine Operator","Textile Designer","Tile and Marble Setter","Title Examiner","Title Searcher","Tool & Machine Designer","Tool Grinder","Tool and Die Maker","Tour Guide","Town Clerk","Traffic Administrator","Traffic Agent","Traffic Technician","Transit and Railroad Police","Transportation Attendant","Transportation Systems Design Engineer","Travel Agent","Travel Clerk","Travel Counselor","Travel Writer","Treasurer","Treatment Plant Operator","Tree Trimmer and Pruner","Truck Driver, Light Duty","Truck Driver, Long Distance","Ultrasound Technologist","Unemployment Inspector","Urban and Regional Planner","Usher","Utility Meter Reader","Vending Machine Mechanic","Veterinarian (VMD)","Veterinarian Technician","Veterinary Assistant","Video Engineer","Vocational Education Instructors College","Vocational Education Teacher, High School","Vocational Education Teacher, Middle School","Vocational Rehabilitation Counselor","Voice Pathologist","Waiter/Waitress","Warehouse Stock Clerk","Watch Repairer","Water Pollution Control Inspector","Weather Observer","Web Art Director","Weigher and Measurer","Welder (Gas, Arc, Plasma, Laser)","Welfare Eligibility Worker","Wholesale Buyer","Wildlife Biologist","Wildlife Control Agent","Woodworking Machine Operator","Word Processing Specialist","Writer/Author","Zoo Veterinarian","Zoologist"],_.identity)),i
}(Backbone.View)}.call(this),function(){var e=function(e,i){function o(){this.constructor=e}for(var n in i)t.call(i,n)&&(e[n]=i[n]);return o.prototype=i.prototype,e.prototype=new o,e.__super__=i.prototype,e},t={}.hasOwnProperty;Academia.RegPath.SetInstitutionView=function(t){function i(){return i.__super__.constructor.apply(this,arguments)}return e(i,t),i.prototype.template="reg_path/templates/set_institution",i.prototype.initialize=function(e){return null==e&&(e={}),this.affiliation=e.affiliation,this.showHeadline=e.showHeadline,this.affiliationEditor=new AffiliationEditor.AffiliationEditView({model:this.affiliation,steppedRender:!0,alwaysPrimary:!0,formClass:"margin-top-8x",saveClass:"btn btn-default btn-block btn-lg margin-top-8x",saveAction:function(e){return function(){return e.trigger("step_complete")}}(this),cancelClass:"hidden"}),this.render()},i.prototype.render=function(){return this.$el.html(JST[this.template]({headline:this.getHeadline()})),this.postRender(),this},i.prototype.postRender=function(){return this.ui={$affiliationEditor:this.$(".js-reg-path-affiliation-editor"),$headline:this.$(".js-reg-path-affiliation-headline")},this.ui.$affiliationEditor.html(this.affiliationEditor.el),this.listenTo(this.affiliation,"change:position",this.resetHeadline)},i.prototype.resetHeadline=function(){return this.ui.$headline.text(this.getHeadline())},i.prototype.getHeadline=function(){var e,t;if(this.showHeadline)return e=null!=(t=this.affiliation.get("position"))?t.id:void 0,8===e?"Where did you get your highest degree?":7===e||3===e?"Where do you study?":"Add Your Affiliation"},i.prototype.remove=function(){return this.affiliationEditor.remove(),i.__super__.remove.apply(this,arguments)},i}(Backbone.View)}.call(this),function(){var e=function(e,i){function o(){this.constructor=e}for(var n in i)t.call(i,n)&&(e[n]=i[n]);return o.prototype=i.prototype,e.prototype=new o,e.__super__=i.prototype,e},t={}.hasOwnProperty;Academia.RegPath.SuggestedCoauthorView=function(t){function i(){return i.__super__.constructor.apply(this,arguments)}return e(i,t),i.prototype.template="reg_path/templates/suggested_coauthor",i.prototype.tagName="li",i.prototype.className="no-select container-fluid list-group-item reg-path-suggestion-row",i.prototype.events={"click .js-toggle-accept":"_toggleAcceptagedState","click .js-coauthor-review-page-paper-count":"_toggleWorkListCollapse","click .js-reject-tag":"_rejectClicked"},i.prototype.initialize=function(){return this._worksExpanded=!1,this.listenTo(this.model,"change:accept change:tags",function(e){return function(){return 0===e.model.get("tags").length?void e.remove():e.render()}}(this))},i.prototype.render=function(){return this.$el.html(JST[this.template]({work:this.model.toJSON(),expanded:this.model.get("tags").length&&this._worksExpanded})),this._postRender(),this},i.prototype._postRender=function(){return this.ui={$workListContainer:this.$(".js-coauthor-review-page-works-container"),$workListToggleDropdownIcon:this.$(".js-coauthor-review-page-dropdown-icon")}},i.prototype._toggleAcceptagedState=function(e){return this.model.set("accept",!this.model.get("accept")),e.stopPropagation()},i.prototype._toggleWorkListCollapse=function(){return"undefined"!=typeof expanded&&null!==expanded&&expanded,this._worksExpanded=!this._worksExpanded,this.ui.$workListToggleDropdownIcon.toggleClass("fa-chevron-up",this._worksExpanded).toggleClass("fa-chevron-down",!this._worksExpanded),this.ui.$workListContainer.collapse(this._worksExpanded?"show":"hide")},i.prototype._rejectClicked=function(e){var t;return t=$(e.target).data("work-id"),this.model.rejectTagAsSuggestion(t)},i}(Backbone.View)}.call(this),function(){var e=function(e,i){function o(){this.constructor=e}for(var n in i)t.call(i,n)&&(e[n]=i[n]);return o.prototype=i.prototype,e.prototype=new o,e.__super__=i.prototype,e},t={}.hasOwnProperty;Academia.RegPath.SuggestedInterestView=function(t){function i(){return i.__super__.constructor.apply(this,arguments)}return e(i,t),i.prototype.template="reg_path/templates/discover_research_follow_interest",i.prototype.render=function(){return this.$el.html(JST[this.template]({interest:this.model})),this},i}(Backbone.View)}.call(this),function(){var e=function(e,i){function o(){this.constructor=e}for(var n in i)t.call(i,n)&&(e[n]=i[n]);return o.prototype=i.prototype,e.prototype=new o,e.__super__=i.prototype,e},t={}.hasOwnProperty;Academia.RegPath.SuggestedUserView=function(t){function i(){return i.__super__.constructor.apply(this,arguments)}return e(i,t),i.prototype.template="reg_path/templates/discover_research_follow_user",i.prototype.render=function(){return this.$el.html(JST[this.template]({user:this.model})),this},i}(Backbone.View)}.call(this),function(){var e=function(e,i){function o(){this.constructor=e}for(var n in i)t.call(i,n)&&(e[n]=i[n]);return o.prototype=i.prototype,e.prototype=new o,e.__super__=i.prototype,e},t={}.hasOwnProperty;Academia.RegPath.SuggestedWorkView=function(t){function i(){return i.__super__.constructor.apply(this,arguments)}return e(i,t),i.prototype.template="reg_path/templates/suggested_work",i.prototype.tagName="li",i.prototype.className="no-select container-fluid list-group-item reg-path-suggestion-row",i.prototype.events={"click .js-reg-path-suggestion-row":"_toggleModelClaimedState"},i.prototype.initialize=function(){return this.model.on("change:claimStatus",function(e){return function(){return e.render(),e.ui.$workTitle.trunk8({lines:2})}}(this)),this.render()},i.prototype.render=function(){return this.$el.html(JST[this.template]({title:this.model.get("title"),isClaimed:this.model.isClaimed()})),this.postRender(),this},i.prototype.postRender=function(){return this.ui={$workTitle:this.$(".js-cluster-review-page-work-title")}},i.prototype._toggleModelClaimedState=function(){return this.model.isClaimed()?this.model.set("claimStatus","anticlaim"):this.model.set("claimStatus","claim")},i}(Backbone.View)}.call(this),function(){var e=function(e,i){function o(){this.constructor=e}for(var n in i)t.call(i,n)&&(e[n]=i[n]);return o.prototype=i.prototype,e.prototype=new o,e.__super__=i.prototype,e},t={}.hasOwnProperty;Academia.RegPath.SutdDownload=function(t){function i(){return i.__super__.constructor.apply(this,arguments)}return e(i,t),i.prototype.template="reg_path/templates/sutd_download",i.prototype.events={"click .js-download-link":"autoBookmark"},i.prototype.initialize=function(e){return this.download=e.download,this.render()},i.prototype.render=function(){return this.$el.html(JST[this.template]({download:this.download})),this},i.prototype.autoBookmark=function(){var e;return e=new AcademiaSharing.Bookmark({content_type:"Work",content_id:this.download.work_id,source:"sutd",from_download_at:new Date}),e.save().always(function(t){return function(){var i;return i=new AcademiaSharing.SuccessNoticeView({model:e}),i.on("close",function(){return t.trigger("step_complete")}),i.show()}}(this))},i}(Backbone.View)}.call(this),function(){var e=function(e,i){function o(){this.constructor=e}for(var n in i)t.call(i,n)&&(e[n]=i[n]);return o.prototype=i.prototype,e.prototype=new o,e.__super__=i.prototype,e},t={}.hasOwnProperty;Academia.RegPath.UploadPapersPageView=function(t){function i(){return i.__super__.constructor.apply(this,arguments)}return e(i,t),i.prototype.template="reg_path/templates/upload_papers_page",i.prototype.events={"click .js-reg-path-upload-papers-skip-button":"skipForward","click .js-reg-path-upload-papers-back-button":"goBack"},i.prototype.initialize=function(e){return this.academiaMonthlyVisitors=e.academiaMonthlyVisitors,this.recaptchaSitekey=e.recaptchaSitekey,this.publisherStatus=e.publisherStatus,this.render()},i.prototype.render=function(){return this.$el.html(JST[this.template]({showSkip:!this.hasPaperToShare()})),this.postRender()},i.prototype.headline=function(){return this.hasPaperToShare()?"Upload A Recent Paper":"Share any of your papers or research documents"},i.prototype.subhead=function(){return this.hasPaperToShare()?this.academiaMonthlyVisitors+" students and researchers like you benefit each month from the free research on Academia.edu.":"Academia.edu users commonly upload their draft papers, preprints, datasets, and graduate work as well as peer-reviewed published work."},i.prototype.hasPaperToShare=function(){return this.publisherStatus.get("wants_to_share")},i.prototype.postRender=function(){return this.ui={$skipButton:this.$(".js-reg-path-upload-papers-skip-button"),$backButton:this.$(".js-reg-path-upload-papers-back-button"),$uploadContainer:this.$(".js-multi-work-uploader-container")},this.renderReactComponent(),this.collection=Academia.RegPath.worksUploaded=MultiWorkUploader.collection,this.setupUnloadListener(),this.hideButtonsOnUpload()},i.prototype.renderReactComponent=function(){return MultiWorkUploader.broccoli=Academia.RegPath.broccoli,React.render(React.createElement(MultiWorkUploader.App,{source:"sutd_reg_path",uploadPageHeadline:this.headline(),uploadPageSubhead:this.subhead(),recaptchaSitekey:this.recaptchaSitekey,titleFallbackToFilename:!0,onCompletion:function(e){return function(){return e.skipForward()}}(this)}),this.ui.$uploadContainer[0])},i.prototype.hideButtonsOnUpload=function(){return this.listenTo(this.collection,"add",function(e){return function(){return e.ui.$skipButton.addClass("u-displayNone"),e.ui.$backButton.addClass("u-displayNone")}}(this))},i.prototype.setupUnloadListener=function(){return $(window).on("beforeunload.uploadPapersPageView",function(e){return function(){return 1===e.collection.length?"You've uploaded a paper without saving it.":e.collection.length>1?"You've uploaded "+e.collection.length+" papers without saving them.":void 0}}(this))},i.prototype.removeUnloadListener=function(){return $(window).off("beforeunload.uploadPapersPageView")},i.prototype.goBack=function(){return this.removeUnloadListener(),this.trigger("go_back")},i.prototype.skipForward=function(){return this.removeUnloadListener(),this.trigger("step_complete")},i.prototype.remove=function(){return this.removeUnloadListener(),React.unmountComponentAtNode(this.ui.$uploadContainer[0]),i.__super__.remove.apply(this,arguments)},i}(Backbone.View)}.call(this),function(){var e=function(e,i){function o(){this.constructor=e}for(var n in i)t.call(i,n)&&(e[n]=i[n]);return o.prototype=i.prototype,e.prototype=new o,e.__super__=i.prototype,e},t={}.hasOwnProperty;Academia.RegPath.VerifyAccount=function(t){function i(){return i.__super__.constructor.apply(this,arguments)}return e(i,t),i.prototype.template="reg_path/templates/verify_account",i.prototype.events={"click .js-connect-with-google-button":"googleButtonClicked","click .js-connect-with-yahoo-button":"yahooButtonClicked","click .js-verify-account-button":"verifyButtonClicked"},i.prototype.initialize=function(){return this.render()},i.prototype.render=function(){return this.$el.html(JST[this.template]({showYahoo:Aedu.User.current.yahoo_email})),this.postRender(),this},i.prototype.postRender=function(){return this.ui={$googleButton:this.$(".js-connect-with-google-button"),$googleIcon:this.$(".js-google-icon"),$verifyButton:this.$(".js-verify-account-button"),$enterPasswordInput:this.$(".js-enter-password-input"),$enterPasswordFormGroup:this.$(".js-enter-password-form-group"),$reEnterPasswordInput:this.$(".js-re-enter-password-input"),$reEnterPasswordFormGroup:this.$(".js-re-enter-password-form-group"),$yahooButton:this.$(".js-connect-with-yahoo-button"),$yahooIcon:this.$(".js-yahoo-icon")}},i.prototype.yahooButtonClicked=function(){return this.disableYahooButton(),$.ajax({url:$r.registration_path_oauth_authorize_url({provider:"yahoo",email:Aedu.User.current.email}),type:"POST",error:function(e){return function(){return e.notify("verify-account-yahoo-request-token-error")}}(this),success:function(e){return function(t){return e.notify("verify-account-yahoo-request-token-success"),window.location=t.auth_url}}(this)})},i.prototype.googleButtonClicked=function(){return this.disableGoogleButton(),$.ajax({url:$r.registration_path_oauth_authorize_url({provider:"gmail",email:Aedu.User.current.email}),type:"POST",error:function(e){return function(){return e.notify("verify-account-google-request-token-error")}}(this),success:function(e){return function(t){return e.notify("verify-account-google-request-token-success"),window.location=t.auth_url}}(this)})},i.prototype.verifyButtonClicked=function(){return this.disableVerifyButton(),this.validatePasswords()?$.ajax({url:$r.api_v0_set_password_path({subdomain_param:"api",password:this.ui.$enterPasswordInput.val()}),type:"POST"}).done(function(e){return function(t){return t.success?(e.notify("verify-account-password-set"),e.trigger("step_complete")):(e.unDisableButtons(),t.errors&&$a.log(t.errors),alert("Sorry, something went wrong! Please refresh the page and try again."))}}(this)):(this.informUserThatValidationFailed(),this.unDisableButtons())},i.prototype.validatePasswords=function(){return""!==this.ui.$enterPasswordInput.val()&&this.ui.$enterPasswordInput.val()===this.ui.$reEnterPasswordInput.val()},i.prototype.informUserThatValidationFailed=function(){return this.ui.$enterPasswordFormGroup.addClass("has-error"),this.ui.$reEnterPasswordFormGroup.addClass("has-error"),alert("Password fields cannot be blank and must match each other.")},i.prototype.disableYahooButton=function(){return this.ui.$yahooButton.addClass("disabled"),this.ui.$yahooIcon.removeClass("fa-yahoo").addClass("fa-spinner fa-spin")},i.prototype.disableGoogleButton=function(){return this.ui.$googleButton.addClass("disabled"),this.ui.$googleIcon.removeClass("fa-google-plus").addClass("fa-spinner fa-spin")},i.prototype.disableVerifyButton=function(){return this.ui.$verifyButton.addClass("disabled"),this.ui.$verifyButton.html('<i class="fa fa-lg fa-spinner fa-spin" />'),this.ui.$enterPasswordFormGroup.hasClass("has-error")&&this.ui.$enterPasswordFormGroup.removeClass("has-error"),this.ui.$reEnterPasswordFormGroup.hasClass("has-error")?this.ui.$reEnterPasswordFormGroup.removeClass("has-error"):void 0},i.prototype.unDisableButtons=function(){return this.ui.$googleButton.removeClass("disabled"),this.ui.$verifyButton.removeClass("disabled"),this.ui.$googleIcon.removeClass("fa-spinner fa-spin").addClass("fa-google-plus"),this.ui.$verifyButton.html("VERIFY ACCOUNT")},i.prototype.notify=function(e){return Academia.RegPath.broccoli.notify(e)},i}(Backbone.View)}.call(this),function(){var e=function(e,i){function o(){this.constructor=e}for(var n in i)t.call(i,n)&&(e[n]=i[n]);return o.prototype=i.prototype,e.prototype=new o,e.__super__=i.prototype,e},t={}.hasOwnProperty;Academia.RegPath.SuggestedColleagues=function(t){function i(){return i.__super__.constructor.apply(this,arguments)}return e(i,t),i.prototype.modelName="user",i.prototype.url=$r.api_v0_registration_colleagues_path({subdomain_param:"api"}),i}(Academia.RegPath.SuggestionCollection)}.call(this),function(){var e=function(e,i){function o(){this.constructor=e}for(var n in i)t.call(i,n)&&(e[n]=i[n]);return o.prototype=i.prototype,e.prototype=new o,e.__super__=i.prototype,e},t={}.hasOwnProperty;Academia.RegPath.SuggestedInterests=function(t){function i(){return i.__super__.constructor.apply(this,arguments)}return e(i,t),i.prototype.modelName="interest",i.prototype.url=$r.api_v0_registration_interests_path({subdomain_param:"api"}),i.prototype.parse=function(e){return null!=e?e.interests:void 0},i}(Academia.RegPath.SuggestionCollection)}.call(this),function(){var e=function(e,i){function o(){this.constructor=e}for(var n in i)t.call(i,n)&&(e[n]=i[n]);return o.prototype=i.prototype,e.prototype=new o,e.__super__=i.prototype,e},t={}.hasOwnProperty;Academia.RegPath.SuggestedUsers=function(t){function i(){return i.__super__.constructor.apply(this,arguments)}return e(i,t),i.prototype.modelName="user",i.prototype.url=$r.api_v0_registration_followees_path({subdomain_param:"api"}),i.prototype.parse=function(e){return null!=e?e.followees:void 0},i}(Academia.RegPath.SuggestionCollection)}.call(this),function(){var e=function(e,i){function o(){this.constructor=e}for(var n in i)t.call(i,n)&&(e[n]=i[n]);return o.prototype=i.prototype,e.prototype=new o,e.__super__=i.prototype,e},t={}.hasOwnProperty;Academia.RegPath.PublisherStatus=function(t){function i(){return i.__super__.constructor.apply(this,arguments)}return e(i,t),i.prototype.inferFromOccupation=function(e){return e.match(/(profes(?!sional))|lecturer|(^researcher$)|scholar|instructor|faculty|academic|(university|college) teacher|(ogist\b)|scientist|economist|historian|philosopher|chemist|physicist|adjunct|postdoc|postgrad|post doc|post grad|research assistant|\bgrad|phd|masters|doctoral|(\bma\b)|(\bmsc\b)|(\bms\b)|(\bmd\b)|(\bmed\b)|(\bjd\b)|(\blaw\b)|(\bm.a\b)|(\bmdiv\b)|(\bmph\b)|(\bmsn\b)|mtech|(\bta\b)|emeritus/i)?this.set("has_published",!0):e.match(/undergrad|college|bachelor|(\bba\b)|(\bbsc\b)|(\bbs\b)|btech|high school/i)?this.set("has_published",!1):this.unset("has_published")},i.prototype.inferFromPosition=function(e,t){return"not"===e||7===t?this.set("has_published",!1):1===t||3===t||9===t||6===t||2===t?this.set("has_published",!0):this.unset("has_published")},i}(Backbone.Model)}.call(this),function(){Academia.RegPath.DirectSignup=function(){function e(e){this.monthlyVisitors=e.monthlyVisitors,this.recaptchaSitekey=e.recaptchaSitekey,this.guessAffiliation=e.guessAffiliation,this.setupUI(),e.welcomeMessage&&this.showWelcomeMessage(e.welcomeMessage),this.initializeModels(),this.initializePageManager()}return e.prototype.setupUI=function(){return this.ui={$stepContainer:$("#reg-path-step-container"),$positionGrid:$("#current-position-grid")},window.location.hash&&"#CurrentPosition"!==window.location.hash?this.ui.$positionGrid.addClass("hidden"):void 0},e.prototype.initializeModels=function(){return this.affiliation=new Backbone.Model(Aedu.User.current.affiliation()),this.publisherStatus=new Academia.RegPath.PublisherStatus,this.affiliation.on("change",function(e){return function(){var t;return e.publisherStatus.inferFromPosition(e.affiliation.get("category"),null!=(t=e.affiliation.get("position"))?t.id:void 0)}}(this))},e.prototype.initializePageManager=function(){return this.pageManager=new Academia.RegPath.PageManagerView({el:this.ui.$stepContainer,skipUrl:function(){return c.User.current.url},routerRoot:"/Register",showProgress:!0,steps:this.flowSteps()})},e.prototype.showWelcomeMessage=function(e){return new Academia.RegPath.WelcomeNotice({message:e})},e.prototype.flowSteps=function(){return[{path:"CurrentPosition",viewClass:Academia.RegPath.CurrentPositionGrid,options:{el:this.ui.$positionGrid,affiliation:this.affiliation,guessAffiliation:this.guessAffiliation}},{path:"HaveYouPublished",viewClass:Academia.RegPath.PreUploadQuestion,shouldSkip:function(e){return function(){return e.shouldSkipPaperUpload()}}(this),options:{publisherStatus:this.publisherStatus}},{path:"UploadPapers",viewClass:Academia.RegPath.UploadPapersPageView,shouldSkip:function(e){return function(){return e.shouldSkipPaperUpload()}}(this),options:{academiaMonthlyVisitors:this.monthlyVisitors,recaptchaSitekey:this.recaptchaSitekey,publisherStatus:this.publisherStatus}},{path:"FindColleagues",viewClass:Academia.RegPath.FindColleaguesPage},{path:"Institution",viewClass:Academia.RegPath.SetInstitutionView,shouldSkip:function(e){return function(){return e.nonInstitutionalPosition()}}(this),options:{affiliation:this.affiliation}}]},e.prototype.nonInstitutionalPosition=function(){var e;return e=this.affiliation.get("category"),"independent"===e||"not"===e},e.prototype.nonResearcherPosition=function(){return this.publisherStatus.has("has_published")&&!this.publisherStatus.get("has_published")},e.prototype.shouldSkipPaperUpload=function(){return $a.is_mobile()||this.nonResearcherPosition()},e}()}.call(this),function(){Academia.RegPath.SignupToDownload=function(){function e(e){this.downloadData=e.download,this.monthlyVisitors=e.monthlyVisitors,this.recaptchaSitekey=e.recaptchaSitekey,this.messageData=e.messageData,this.ui={$stepContainer:$("#reg-path-step-container")},this.initializeModels(),this.initializePageManager()}return e.prototype.initializeModels=function(){return this.publisherStatus=new Academia.RegPath.PublisherStatus},e.prototype.initializePageManager=function(){return this.pageManager=new Academia.RegPath.PageManagerView({el:this.ui.$stepContainer,skipUrl:function(){return c.User.current.url},backUrl:"/"+this.downloadData.work_id,routerRoot:"/RegisterToDownload",showProgress:!0,steps:[{path:"SendMessage",viewClass:Academia.RegPath.ReaderMessageExpandingForm,options:_.extend({publisherStatus:this.publisherStatus},this.messageData)},{path:"HaveYouPublished",viewClass:Academia.RegPath.PreUploadQuestion,shouldSkip:function(e){return function(){return e.shouldSkipPaperUpload()}}(this),options:{publisherStatus:this.publisherStatus}},{path:"UploadPapers",viewClass:Academia.RegPath.UploadPapersPageView,shouldSkip:function(e){return function(){return e.shouldSkipPaperUpload()}}(this),options:{academiaMonthlyVisitors:this.monthlyVisitors,recaptchaSitekey:this.recaptchaSitekey,publisherStatus:this.publisherStatus}},{path:"FindColleagues",viewClass:Academia.RegPath.FindColleaguesPage,shouldSkip:function(e){return function(){return e.uploadedAnyPapers()}}(this)},{path:"Download",viewClass:Academia.RegPath.SutdDownload,options:{download:this.downloadData}}]})},e.prototype.nonResearcherOccupation=function(){return this.publisherStatus.has("has_published")&&!this.publisherStatus.get("has_published")},e.prototype.shouldSkipPaperUpload=function(){return $a.is_mobile()||this.nonResearcherOccupation()},e.prototype.uploadedAnyPapers=function(){var e;return((null!=(e=Academia.RegPath.worksUploaded)?e.length:void 0)||0)>0},e}()}.call(this),function(){Academia.RegPath.TaggedCoauthor=function(){function e(e){this.invitingCoauthor=null!=e?e.invitingCoauthor:void 0,this.guessAffiliation=null!=e?e.guessAffiliation:void 0,Academia.RegPath.eventDispatcher=_.clone(Backbone.Events),this.setupUI(),this.initializeModels(),this.initializePageManager(),this.showWelcomeMessage()}return e.prototype.maxShownClusters=4,e.prototype.setupUI=function(){return this.ui={$stepContainer:$("#reg-path-step-container"),$positionGrid:$("#current-position-grid")}},e.prototype.initializeModels=function(){return this.affiliation=new Backbone.Model(c.User.current.affiliation())},e.prototype.initializePageManager=function(){return this.pageManager=new Academia.RegPath.PageManagerView({el:this.ui.$stepContainer,skipUrl:function(){return c.User.current.url},routerRoot:"/AcceptCoauthorTag",showProgress:!0,steps:this.flowSteps()})},e.prototype.showWelcomeMessage=function(){return new Academia.RegPath.CoauthorWelcomeNotice(this.invitingCoauthor)},e.prototype.nonInstitutionalPosition=function(){var e;return e=this.affiliation.get("category"),"independent"===e||"not"===e},e.prototype.alreadyGoogleConnected=function(){return Aedu.User.current.google_connected===!0||Aedu.User.current.google_connect_error===!0},e.prototype.flowSteps=function(){return[{path:"OtherPapers",viewClass:Academia.RegPath.OtherPapersController,options:{skipUrl:function(e){return function(){return e.pageManager.showNextStep(),window.location.href}}(this)},subSteps:3},{path:"VerifyAccount",viewClass:Academia.RegPath.VerifyAccount,options:{model:Aedu.User.current},shouldSkip:function(e){return function(){return e.alreadyGoogleConnected()}}(this)},{path:"CurrentPosition",viewClass:Academia.RegPath.CurrentPositionGrid,options:{el:this.ui.$positionGrid,affiliation:this.affiliation,guessAffiliation:this.guessAffiliation}},{path:"Institution",viewClass:Academia.RegPath.SetInstitutionView,shouldSkip:function(e){return function(){return e.nonInstitutionalPosition()}}(this),options:{affiliation:this.affiliation}},{path:"DiscoverResearch",viewClass:Academia.RegPath.DiscoverResearchPage,subSteps:2}]},e}()}.call(this),function(){this.JST||(this.JST={}),this.JST["reg_path/templates/cluster_review_page"]=function(e){var t,i=[],o=e||{};return function(e){i.push('<div class="cluster-review-page"><div class="row cluster-review-page-content"><div class="col-xs-12"><div class="row"><div class="col-xs-12 col-md-8 col-md-offset-2"><div class="row"><div class="clearfix text-center margin-bottom-2x"><div class="col-xs-12"><h3 class="text-bold">Confirm Your Papers</h3><p class="text-italic">Papers claimed and uploaded on Academia.edu receive 69% more<sup><a href="https://www.academia.edu/12297791/Open_Access_Meets_Discoverability_Citations_to_Articles_Posted_to_Academia.edu" target="_blank">*</a></sup> citations over 5 years.</p></div></div></div><div class="row"><div class="reg-path-suggestion-module panel"><div class="reg-path-suggestion-module-header bg-off-white panel-heading no-select"><div class="row"><div class="col-xs-12 col-sm-6"><div class="cluster-review-page-header-item"><div class="js-cluster-review-page-toggle-wrapper clickable"><span class="cluster-review-page-toggle-all-checkbox"><input type="checkbox" value="Toggle All" checked="checked" class="js-cluster-review-page-toggle-all-checkbox"/></span>&nbsp;&nbsp;<small class="text-gray">Select All</small></div></div></div><div class="col-xs-12 col-sm-6"><div class="cluster-review-page-confirmed-count-container pull-right hidden-xs"><span class="cluster-review-page-header-item text-bold text-uppercase text-gray-light"><small>Confirmed &nbsp;&nbsp;</small></span><span'+jade.cls(["cluster-review-page-confirmed-count","badge",e>0?"bg-blue-light":"bg-gray-light"],[null,null,!0])+">"+jade.escape(null==(t=e)?"":t)+'</span></div></div></div></div><ul class="reg-path-suggestion-module-collection-view-container js-cluster-review-page-works-collection list-group"></ul></div></div></div></div><div class="row"><div class="col-xs-12 col-sm-10"><div class="row"><button type="button" class="btn btn-lg btn-primary pull-right js-cluster-review-page-next-cluster cluster-review-page-next-cluster"><span class="h6 text-bold text-wide-letter-space text-uppercase"></span><div class="js-cluster-review-page-finish-spinner hidden"><i class="fa fa-spinner fa-spin fa-lg"></i></div><button type="button" class="btn btn-lg btn-none pull-right text-gray-dark js-cluster-review-page-next-cluster-with-none"><span class="h6">None of these are mine</span></button></button></div></div></div></div></div></div>')}.call(this,"confirmedCount"in o?o.confirmedCount:"undefined"!=typeof confirmedCount?confirmedCount:void 0),i.join("")}}.call(this),function(){this.JST||(this.JST={}),this.JST["reg_path/templates/coauthor_review_page"]=function(){var e=[];return e.push('<div class="coauthor-review-page"><div class="row coauthor-review-page-content"><div class="col-xs-12"><div class="row"><div class="col-xs-12 col-sm-8 col-sm-offset-2"><div class="row"><div class="clearfix text-center margin-bottom-2x"><div class="col-xs-12"><h3 class="text-bold">Confirm Your Co-Authors</h3></div></div><ul class="panel list-group reg-path-suggestion-module-collection-view-container js-coauthor-review-page-coauthors-collection"></ul></div></div></div></div></div><div class="row"><div class="col-xs-12 col-sm-10"><div class="row"><button type="button" class="btn btn-lg btn-primary pull-right js-coauthor-review-page-finish reg-path-suggestions-finish-button"><span class="h6 text-bold text-wide-letter-space text-uppercase"></span><div class="js-coauthor-review-page-finish-spinner hidden"><i class="fa fa-spinner fa-spin fa-lg"></i></div></button><button type="button" class="btn btn-lg btn-none pull-right text-gray-dark js-coauthor-review-page-reject-all"><span class="h6">None of these are correct</span></button></div></div></div></div>'),e.join("")}}.call(this),function(){this.JST||(this.JST={}),this.JST["reg_path/templates/combined_claim/combined_claim_coauthor"]=function(e){var t,i=[],o={},n=e||{};return function(e,n,r,s){o.coauthorAvatar=function(){this&&this.block,this&&this.attributes||{};i.push(void 0!=r.tagged_user_photo_url?"<img"+jade.attr("src",r.tagged_user_photo_url,!0,!1)+' class="img-rounded suggested-coauthor-avatar-small"/>':"<div"+jade.cls(["suggested-coauthor-initials-container","margin-0x","padding-2x","media_v2",n],[null,null,null,null,!0])+'><div class="suggested-coauthor-initials-text media-middle margin-0x h3 text-white text-bold">'+jade.escape(null==(t=r.initials)?"":t)+"</div></div>")},o.coauthorHeader=function(){var o=(this&&this.block,this&&this.attributes||{},e.t("reg_path.templates.suggested_coauthor_with_works.wrote_papers",{name:r.name,count:r.papers.length}));i.push('<p class="text-gray-darker margin-bottom-1x"><span class="text-bold">'+jade.escape(null==(t=o)?"":t)+"</span>"),r.obfuscated_email&&i.push('<p class="h6 margin-vertical-0x text-gray">'+jade.escape(null==(t=r.obfuscated_email)?"":t)+"</p>"),i.push("</p>")},o.paperList=function(){var o=(this&&this.block,this&&this.attributes||{},e.t("reg_path.templates.suggested_coauthor_with_works.show_more_papers"));i.push('<ul class="suggested-coauthor-paper-titles-list list-unstyled margin-bottom-0x margin-right-2x">'),function(){var e=r.papers;if("number"==typeof e.length)for(var o=0,n=e.length;n>o;o++){var s=e[o];i.push("<li"+jade.attr("title",s.title,!0,!1)+' class="js-combined-claim-coauthor-paper-title-li js-tooltip text-truncate"><i class="fa fa-file-text-o text-gray-light margin-right-1x"></i><span class="text-gray margin-top-0x">'+jade.escape(null==(t=s.title)?"":t)+"</span></li>")}else{var n=0;for(var o in e){n++;var s=e[o];i.push("<li"+jade.attr("title",s.title,!0,!1)+' class="js-combined-claim-coauthor-paper-title-li js-tooltip text-truncate"><i class="fa fa-file-text-o text-gray-light margin-right-1x"></i><span class="text-gray margin-top-0x">'+jade.escape(null==(t=s.title)?"":t)+"</span></li>")}}}.call(this),r.papers.length>3&&i.push('<li class="js-combined-claim-coauthor-toggle-paper-titles-list"><a class="js-combined-claim-coauthor-toggle-paper-titles-list-text text-primary">'+jade.escape(null==(t=o)?"":t)+"</a></li>"),i.push("</ul>")},o.claimCheckbox=function(){var e=(this&&this.block,this&&this.attributes||{},s?"fa-check-square text-success":"fa-square-o text-gray-light");i.push('<i data-broccoli-component="combined-claim-suggested-coauthor-checkbox"'+jade.cls(["fa","fa-lg","js-combined-claim-coauthor-claim-checkbox","suggested-coauthor-claim-checkbox",e],[null,null,null,null,!0])+"></i>")},i.push('<div class="panel panel-flat combined-claim-panel clickable"><div class="panel-body js-clickable-paper-area"><div class="media_v2 margin-bottom-2x"><div class="media-left media-middle">'),o.coauthorAvatar(),i.push('</div><div class="media-body media-middle padding-horizontal-2x">'),o.coauthorHeader(),i.push('</div><div class="media-right media-middle">'),o.claimCheckbox(),i.push('</div></div><hr class="margin-vertical-2x"/>'),o.paperList(),i.push("</div></div>")}.call(this,"I18n"in n?n.I18n:"undefined"!=typeof I18n?I18n:void 0,"bgClass"in n?n.bgClass:"undefined"!=typeof bgClass?bgClass:void 0,"coauthor"in n?n.coauthor:"undefined"!=typeof coauthor?coauthor:void 0,"isClaimed"in n?n.isClaimed:"undefined"!=typeof isClaimed?isClaimed:void 0),i.join("")}}.call(this),function(){this.JST||(this.JST={}),this.JST["reg_path/templates/combined_claim/combined_claim_confirm_button"]=function(e){var t,i=[],o=e||{};return function(e,o,n,r,s){var a=s||0===r?"disabled":"",l=e.t(o?"reg_path.templates.combined_claim_footer.confirm_allclaimed":"reg_path.templates.combined_claim_footer.confirm_selectedclaimed");i.push("<button"+jade.attr("data-broccoli-component","combined-claim-confirm-button"+n,!0,!1)+jade.cls(["js-combined-claim-confirm-button","confirm-button","btn","btn-lg","btn-success","margin-left-2x",a],[null,null,null,null,null,null,!0])+">"),i.push(s?'<i class="fa fa-spinner fa-spin fa-lg"></i>':'<span class="h6 text-bold text-wide-letter-space text-uppercase">'+jade.escape(null==(t=l)?"":t)+'</span><span class="confirm-button-claim-count h6 text-bold padding-horizontal-2x margin-left-2x">'+jade.escape(null==(t=r)?"":t)+"</span>"),i.push("</button>")}.call(this,"I18n"in o?o.I18n:"undefined"!=typeof I18n?I18n:void 0,"allClaimed"in o?o.allClaimed:"undefined"!=typeof allClaimed?allClaimed:void 0,"broccoliSuffix"in o?o.broccoliSuffix:"undefined"!=typeof broccoliSuffix?broccoliSuffix:void 0,"numClaimed"in o?o.numClaimed:"undefined"!=typeof numClaimed?numClaimed:void 0,"spinnerActivated"in o?o.spinnerActivated:"undefined"!=typeof spinnerActivated?spinnerActivated:void 0),i.join("")}}.call(this),function(){this.JST||(this.JST={}),this.JST["reg_path/templates/combined_claim/combined_claim_control_bar"]=function(){var e=[],t="col-xs-12 col-sm-10 col-sm-offset-1 col-md-8 col-md-offset-2 col-lg-6 col-lg-offset-3";return e.push('<div class="row"><div'+jade.cls(["padding-horizontal-0x","border-top-gray-lighter",t],[null,null,!0])+'><div class="pull-left padding-left-5x valign-wrapper js-combined-claim-control-bar-text-container"></div><div class="pull-right valign-wrapper js-combined-claim-control-bar-select-all-checkbox-container"></div></div></div>'),e.join("")
}}.call(this),function(){this.JST||(this.JST={}),this.JST["reg_path/templates/combined_claim/combined_claim_control_bar_select_all_checkbox"]=function(e){var t,i=[],o=e||{};return function(e,o){var n=e.t("reg_path.templates.combined_claim_control_bar.select_all"),r=o?"fa-check-square text-success":"fa-square-o text-gray-light";i.push('<div class="js-combined-claim-select-all-container padding-right-4x clickable valign-item"><small class="padding-right-2x text-gray">'+jade.escape(null==(t=n)?"":t)+"</small><i"+jade.cls(["fa","fa-lg","js-combined-claim-select-all-checkbox",r],[null,null,null,!0])+"></i></div>")}.call(this,"I18n"in o?o.I18n:"undefined"!=typeof I18n?I18n:void 0,"allClaimed"in o?o.allClaimed:"undefined"!=typeof allClaimed?allClaimed:void 0),i.join("")}}.call(this),function(){this.JST||(this.JST={}),this.JST["reg_path/templates/combined_claim/combined_claim_control_bar_text"]=function(e){var t,i=[],o=e||{};return function(e,o){var n=e.t("reg_path.templates.combined_claim_control_bar.numcoauthors_co_authors",{numCoauthors:o});i.push('<small class="valign-item text-gray">'+jade.escape(null==(t=n)?"":t)+"</small>")}.call(this,"I18n"in o?o.I18n:"undefined"!=typeof I18n?I18n:void 0,"numCoauthors"in o?o.numCoauthors:"undefined"!=typeof numCoauthors?numCoauthors:void 0),i.join("")}}.call(this),function(){this.JST||(this.JST={}),this.JST["reg_path/templates/combined_claim/combined_claim_footer"]=function(){var e=[],t="col-xs-12 col-sm-10 col-sm-offset-1 col-md-8 col-md-offset-2 col-lg-6 col-lg-offset-3";return e.push('<div class="row bg-off-white padding-3x border-top-gray-lighter"><div'+jade.cls(["padding-horizontal-0x",t],[null,!0])+'><!-- I don\'t think this strategy is perfect, but using pulls inside the columns--><!-- seems to give us the least unexpected wrapping--><div class="col-xs-5"><div class="js-combined-claim-opt-in-container-wrapper pull-left"></div></div><div class="col-xs-7"><div class="js-combined-claim-confirm-button-container pull-right"></div><div class="js-combined-claim-skip-button-container pull-right"></div></div></div></div>'),e.join("")}}.call(this),function(){this.JST||(this.JST={}),this.JST["reg_path/templates/combined_claim/combined_claim_header"]=function(e){var t,i=[],o=e||{};return function(e,o,n){var r=1==n?e.t("reg_path.templates.combined_claim_page.title"):e.t("reg_path.templates.combined_claim_page.next_page_title",{numCoauthors:o}),s=e.t("reg_path.templates.combined_claim_page.subtitle",{numCoauthors:o});i.push('<h3 class="margin-0x text-center text-bold text-gray-darker">'+jade.escape(null==(t=r)?"":t)+'</h3><p class="margin-top-2x margin-bottom-0x text-center h6 text-gray-dark text-italic">'+jade.escape(null==(t=s)?"":t)+"</p>")}.call(this,"I18n"in o?o.I18n:"undefined"!=typeof I18n?I18n:void 0,"numCoauthors"in o?o.numCoauthors:"undefined"!=typeof numCoauthors?numCoauthors:void 0,"page"in o?o.page:"undefined"!=typeof page?page:void 0),i.join("")}}.call(this),function(){this.JST||(this.JST={}),this.JST["reg_path/templates/combined_claim/combined_claim_opt_in_checkbox"]=function(e){var t,i=[],o=e||{};return function(e,o){var n=o?"fa-check-square text-success":"fa-square-o text-gray-light",r=o?"":"combined-claim-opted-out-label",s=e.t("reg_path.combined_claim.opt_in_checkbox.label_text");i.push('<div class="combined-claim-opt-in-container valign-wrapper"><div data-broccoli-component="combined-claim-opt-in" class="margin-left-2px js-combined-claim-opt-in-checkbox-container clickable valign-item media_v2"><div class="media-left media-middle"><i'+jade.cls(["fa","js-combined-claim-opt-in-checkbox",n],[null,null,!0])+'></i></div><div class="media-body media-middle"><small'+jade.cls(["text-gray",r],[null,!0])+">"+jade.escape(null==(t=s)?"":t)+'</small><i class="fa fa-question-circle margin-left-2x text-gray js-opt-in-info"></i></div></div></div>')}.call(this,"I18n"in o?o.I18n:"undefined"!=typeof I18n?I18n:void 0,"userOptedIn"in o?o.userOptedIn:"undefined"!=typeof userOptedIn?userOptedIn:void 0),i.join("")}}.call(this),function(){this.JST||(this.JST={}),this.JST["reg_path/templates/combined_claim/combined_claim_opt_in_popover"]=function(e){var t,i=[],o=e||{};return function(e){i.push('<div class="padding-1x"><small class="text-gray">'+jade.escape(null==(t=e.t("reg_path.combined_claim.opt_in_checkbox.popover_info_text"))?"":t)+"</small></div>")}.call(this,"I18n"in o?o.I18n:"undefined"!=typeof I18n?I18n:void 0),i.join("")}}.call(this),function(){this.JST||(this.JST={}),this.JST["reg_path/templates/combined_claim/combined_claim_page"]=function(){var e=[],t="col-xs-12 col-sm-10 col-sm-offset-1 col-md-8 col-md-offset-2 col-lg-6 col-lg-offset-3";return e.push('<div class="container-fluid"><div class="row margin-vertical-8x"><div'+jade.cls(["js-combined-claim-header","padding-horizontal-0x",t],[null,null,!0])+'></div></div></div><!-- to account for negative margin of the control bar due to affix--><div class="margin-bottom-13x"></div><div class="js-combined-claim-control-bar combined-claim-control-bar bg-gray-lightest"></div><div class="container-fluid"><div class="row bg-gray-lightest padding-bottom-3x"><div'+jade.cls(["padding-horizontal-0x",t],[null,!0])+'><div class="js-combined-claim-collection"></div></div></div></div><!-- to provide space between the last panel and the footer--><div class="padding-8x bg-gray-lightest"></div><div class="js-combined-claim-footer combined-claim-footer"></div>'),e.join("")}}.call(this),function(){this.JST||(this.JST={}),this.JST["reg_path/templates/combined_claim/combined_claim_skip_button"]=function(e){var t,i=[],o=e||{};return function(e,o,n){var r=e.t("reg_path.templates.combined_claim_footer.skip");i.push("<button"+jade.attr("data-broccoli-component","combined-claim-skip-button"+o,!0,!1)+' class="js-combined-claim-skip-button btn btn-lg btn-none text-gray">'),i.push(n?'<i class="fa fa-spinner fa-spin fa-lg"></i>':'<span class="h6 text-uppercase">'+jade.escape(null==(t=r)?"":t)+"</span>"),i.push("</button>")}.call(this,"I18n"in o?o.I18n:"undefined"!=typeof I18n?I18n:void 0,"broccoliSuffix"in o?o.broccoliSuffix:"undefined"!=typeof broccoliSuffix?broccoliSuffix:void 0,"spinnerActivated"in o?o.spinnerActivated:"undefined"!=typeof spinnerActivated?spinnerActivated:void 0),i.join("")}}.call(this),function(){this.JST||(this.JST={}),this.JST["reg_path/templates/discover_research_connect_buttons"]=function(e){var t=[],i=e||{};return function(e,i,o,n,r,s){t.push('<div class="row"><div class="col-xs-4">'),i=e?"btn-default disabled":"btn-outline-facebook",t.push('<button id="discover-research-facebook" data-broccoli-component="discover-research-facebook-button"'+jade.cls(["btn","btn-lg","btn-block","btn-v-center-content","text-bold",i],[null,null,null,null,null,!0])+"><i"+jade.cls(["fa","fa-lg",e?"fa-check":"fa-facebook"],[null,null,!0])+'></i>&nbsp;&nbsp;&nbsp;\nFACEBOOK</button></div><div class="col-xs-4">'),n=o?"btn-default disabled":"btn-outline-google",t.push('<button id="discover-research-google" data-broccoli-component="discover-research-google-button"'+jade.cls(["btn","btn-lg","btn-block","btn-v-center-content","text-bold",n],[null,null,null,null,null,!0])+"><i"+jade.cls(["fa","fa-lg",o?"fa-check":"fa-google-plus"],[null,null,!0])+'></i>&nbsp;&nbsp;&nbsp;\nGOOGLE</button></div><div class="col-xs-4">'),s=r?"btn-default disabled":"btn-outline-twitter",t.push('<button id="discover-research-twitter" data-broccoli-component="discover-research-twitter-button"'+jade.cls(["btn","btn-lg","btn-block","btn-v-center-content","text-bold",s],[null,null,null,null,null,!0])+"><i"+jade.cls(["fa","fa-lg",r?"fa-check":"fa-twitter"],[null,null,!0])+"></i>&nbsp;&nbsp;&nbsp;\nTWITTER</button></div></div>")}.call(this,"facebookConnected"in i?i.facebookConnected:"undefined"!=typeof facebookConnected?facebookConnected:void 0,"fb_class"in i?i.fb_class:"undefined"!=typeof fb_class?fb_class:void 0,"googleConnected"in i?i.googleConnected:"undefined"!=typeof googleConnected?googleConnected:void 0,"google_class"in i?i.google_class:"undefined"!=typeof google_class?google_class:void 0,"twitterConnected"in i?i.twitterConnected:"undefined"!=typeof twitterConnected?twitterConnected:void 0,"twitter_class"in i?i.twitter_class:"undefined"!=typeof twitter_class?twitter_class:void 0),t.join("")}}.call(this),function(){this.JST||(this.JST={}),this.JST["reg_path/templates/discover_research_follow_interest"]=function(e){var t,i=[],o=e||{};return function(e,o,n){i.push('<div class="valign-item"><div class="bg-gray-lighter avatar-md avatar-rectangle margin-left-2x margin-right-3x text-center valign-wrapper"><i class="fa fa-inverse fa-tag valign-item"></i></div></div><div class="valign-item"><strong class="text-gray-dark text-truncate">'+jade.escape(null==(t=n.name)?"":t)+'</strong><span class="text-gray-light text-truncate">'+jade.escape(null==(t=e.commaizeInt(n.follower_count))?"":t)+"&nbsp;"+jade.escape(null==(t=o.t("reg_path.templates.discover_research_follow_interest.followers"))?"":t)+"</span></div>")}.call(this,"$h"in o?o.$h:"undefined"!=typeof $h?$h:void 0,"I18n"in o?o.I18n:"undefined"!=typeof I18n?I18n:void 0,"interest"in o?o.interest:"undefined"!=typeof interest?interest:void 0),i.join("")}}.call(this),function(){this.JST||(this.JST={}),this.JST["reg_path/templates/discover_research_follow_user"]=function(e){var t,i=[],o=e||{};return function(e,o,n,r){if(i.push('<div class="valign-item"><img'+jade.attr("src",r.photo,!0,!1)+' class="avatar-md avatar-rectangle margin-left-2x margin-right-3x"/></div><div class="valign-item"><strong class="text-gray-dark text-truncate">'+jade.escape(null==(t=r.display_name)?"":t)+'</strong><span class="text-gray-light text-truncate">'),r.is_affiliated()&&r.department)i.push(jade.escape(null==(t=r.department.university.name)?"":t));else if(r.has_research_interests()){var s=n(r.interests.slice(0,3)).map(function(e){return e.name});i.push(jade.escape(null==(t=e.to_sentence(s))?"":t))}else i.push(jade.escape(null==(t=o.t("reg_path.templates.discover_research_follow_user.independent_researcher"))?"":t));i.push("</span></div>")}.call(this,"$h"in o?o.$h:"undefined"!=typeof $h?$h:void 0,"I18n"in o?o.I18n:"undefined"!=typeof I18n?I18n:void 0,"_"in o?o._:"undefined"!=typeof _?_:void 0,"user"in o?o.user:"undefined"!=typeof user?user:void 0),i.join("")}}.call(this),function(){this.JST||(this.JST={}),this.JST["reg_path/templates/discover_research_page"]=function(e){var t,i=[],o=e||{};return function(e){i.push('<div class="row"><div class="col-xs-12 col-sm-10 col-sm-offset-1 col-md-8 col-md-offset-2"><div class="clearfix text-center"><h3 class="text-bold">'+jade.escape(null==(t=e.t("reg_path.templates.discover_research_page.discover_more_research"))?"":t)+'</h3><p class="text-italic">'+jade.escape(null==(t=e.t("reg_path.templates.discover_research_page.follow_researchers_and_interests"))?"":t)+'</p></div><div id="discover-research-page-contents"><div class="margin-top-8x"><div class="hr-heading"><span class="hr-heading-text">'+jade.escape(null==(t=e.t("reg_path.templates.discover_research_page.find_colleagues_friends"))?"":t)+'</span></div></div><div class="margin-top-8x"><div id="discover-research-connect-buttons"></div></div><div class="margin-top-8x"><div class="hr-heading"><span class="hr-heading-text">'+jade.escape(null==(t=e.t("reg_path.templates.discover_research_page.researchers_interests"))?"":t)+'</span></div></div><div class="margin-top-8x"><div id="discover-research-follow-suggestions"></div></div><div class="row margin-top-8x"><div class="col-xs-4 col-sm-6"><a id="discover-research-back" data-broccoli-component="discover-research-back-button" class="text-bold text-gray pull-left margin-top-5x clickable"><i class="fa fa-arrow-left"></i>'+jade.escape(null==(t=e.t("reg_path.templates.discover_research_page.back"))?"":t)+'</a></div><div class="col-xs-4 col-sm-3"><a id="discover-research-skip" data-broccoli-component="discover-research-skip-button" class="text-bold text-gray pull-right margin-top-5x clickable hidden">'+jade.escape(null==(t=e.t("reg_path.templates.discover_research_page.skip"))?"":t)+'</a></div><div class="col-xs-4 col-sm-3"><button id="discover-research-finish" data-broccoli-component="discover-research-follow-button" data-loading-text="&lt;i class=&quot;fa fa-spinner fa-spin&quot;&gt;&lt;/i&gt;" class="btn btn-primary btn-lg reg-path-suggestions-finish-button text-bold pull-right disabled">'+jade.escape(null==(t=e.t("reg_path.templates.discover_research_page.follow",{count:0}))?"":t)+'</button></div></div></div><div class="row margin-top-8x"></div></div></div>')}.call(this,"I18n"in o?o.I18n:"undefined"!=typeof I18n?I18n:void 0),i.join("")}}.call(this),function(){this.JST||(this.JST={}),this.JST["reg_path/templates/discover_research_suggestion"]=function(e){var t,i=[],o=e||{};return function(e,o,n){i.push('<div class="row padding-1x"><div class="col-xs-10 col-sm-11"><div class="valign-wrapper reg-path-suggestion-text-wrapper">'+(null==(t=n.render().el.innerHTML)?"":t)+'</div></div><div class="col-xs-2 col-sm-1">'),o=e?"fa-check-circle":"fa-plus-circle",i.push("<i"+jade.cls(["fa","fa-lg","reg-path-suggestion-panel-checkbox","clickable","js-reg-path-suggestion-row",o],[null,null,null,null,null,!0])+"></i></div></div>")}.call(this,"accepted"in o?o.accepted:"undefined"!=typeof accepted?accepted:void 0,"icon"in o?o.icon:"undefined"!=typeof icon?icon:void 0,"suggestionView"in o?o.suggestionView:"undefined"!=typeof suggestionView?suggestionView:void 0),i.join("")}}.call(this),function(){this.JST||(this.JST={}),this.JST["reg_path/templates/discover_research_suggestions_loader"]=function(e){var t,i=[],o=e||{};return function(e){i.push('<div class="panel margin-bottom-2x"><div class="row padding-4x text-center text-uppercase text-gray-dark text-bold"><i class="fa fa-spinner fa-spin fa-lg"></i>&nbsp;&nbsp;'+jade.escape(null==(t=e)?"":t)+"...</div></div>")}.call(this,"text"in o?o.text:"undefined"!=typeof text?text:void 0),i.join("")}}.call(this),function(){this.JST||(this.JST={}),this.JST["reg_path/templates/discover_research_suggestions_none"]=function(e){var t,i=[],o=e||{};return function(e,o){i.push('<div class="row padding-4x text-center"><p>'+jade.escape(null==(t=e.t("reg_path.templates.discover_research_suggestions_none.sorry_we_couldn_t"))?"":t)+"</p>"),o.User.current.facebook_connected&&o.User.current.google_connected&&o.User.current.twitter_connected||i.push("<p>"+jade.escape(null==(t=e.t("reg_path.templates.discover_research_suggestions_none.try_connecting_another_account"))?"":t)+"</p>"),i.push("</div>")}.call(this,"I18n"in o?o.I18n:"undefined"!=typeof I18n?I18n:void 0,"c"in o?o.c:"undefined"!=typeof c?c:void 0),i.join("")}}.call(this),function(){this.JST||(this.JST={}),this.JST["reg_path/templates/find_colleagues_connect_buttons"]=function(e){var t=[],i=e||{};return function(e,i,o,n){t.push('<div class="row u-mt8x"><div class="col-xs-5 col-xs-offset-1 col-sm-3 col-sm-offset-3">'),i=e?"Button--disabled":"Button--facebook",t.push("<button"+jade.cls(["Button","Button--lg","Button--block","js-facebook-connect-button","u-verticalAlignMiddle","u-fw700",i],[null,null,null,null,null,null,!0])+"><i"+jade.cls(["fa","fa-lg","js-facebook-icon",e?"fa-check":"fa-facebook"],[null,null,null,!0])+'></i>&nbsp;&nbsp;&nbsp;\nFACEBOOK</button></div><div class="col-xs-5 col-sm-3">'),o=n?"Button--disabled":"Button--google",t.push("<button"+jade.cls(["Button","Button--lg","Button--block","js-google-connect-button","u-verticalAlignMiddle","u-fw700",o],[null,null,null,null,null,null,!0])+"><i"+jade.cls(["fa","fa-lg","js-google-icon",n?"fa-check":"fa-google-plus"],[null,null,null,!0])+"></i>&nbsp;&nbsp;&nbsp;\nGOOGLE</button></div></div>")}.call(this,"facebookConnected"in i?i.facebookConnected:"undefined"!=typeof facebookConnected?facebookConnected:void 0,"fbClass"in i?i.fbClass:"undefined"!=typeof fbClass?fbClass:void 0,"googleClass"in i?i.googleClass:"undefined"!=typeof googleClass?googleClass:void 0,"googleConnected"in i?i.googleConnected:"undefined"!=typeof googleConnected?googleConnected:void 0),t.join("")}}.call(this),function(){this.JST||(this.JST={}),this.JST["reg_path/templates/find_colleagues_page"]=function(){var e=[];return e.push('<div class="DesignSystem"><div class="row"><div class="col-xs-12"><h1 class="u-tcGrayDarkest u-taCenter u-fs20 u-mt6x u-fw700 js-find-colleagues-page-title">Follow your colleagues on Academia.edu</h1></div></div><div class="row u-mt15x u-mb3x js-find-colleagues-header u-displayNone"><div class="col-xs-3 col-xs-offset-3"><div class="u-taLeft u-tcGrayDark u-fs14 u-fw400 js-colleagues-count-left-label"></div></div><div class="col-xs-3"><div class="u-taRight u-pr4x"><span class="u-tcGrayDark">Select All&nbsp;&nbsp;</span><i class="fa fa-lg u-clickable fa-check-circle u-fs18 u-tcGreen js-find-colleagues-select-all"></i></div></div></div><div class="row"><div class="col-xs-10 col-xs-offset-1 col-sm-6 col-sm-offset-3 js-find-colleagues-content-wrapper"><div class="js-colleagues-loading-spinner u-pt4x u-taCenter"><i class="fa fa-spinner fa-spin fa-lg"></i><span>&nbsp; Loading Suggestions</span></div><div class="js-no-colleagues-found-text u-displayNone u-taCenter u-tcGrayDark">Sorry, we couldn\'t find any suggestions for you.\nTry connecting another account to help us find your friends and colleagues on Academia.edu.</div><div class="js-find-colleagues-content find-colleagues-page-colleagues-wrapper"></div></div></div><div class="js-social-buttons-wrapper"></div><div class="row u-mt7x"><div class="col-xs-5 col-xs-offset-1 col-sm-3 col-sm-offset-3"><div class="u-taLeft u-fs12 u-fw500 u-pv4x u-tcGray u-displayNone u-clickable js-find-colleagues-skip-button">SKIP</div></div><div class="col-xs-5 col-sm-3 u-taRight"><button class="Button Button--blue Button--lg Button--disabled js-find-colleagues-follow-button find-colleagues-follow-button"><span class="js-find-colleagues-following-button-text">FOLLOW</span><i class="fa fa-lg fa-spinner fa-spin js-find-colleagues-following-button-spinner u-displayNone"></i></button></div></div></div>'),e.join("")}}.call(this),function(){this.JST||(this.JST={}),this.JST["reg_path/templates/find_colleagues_suggestion"]=function(e){var t,i=[],o=e||{};return function(e,o,n,r,s,a){if(i.push("<div"+jade.cls(["panel","u-p4x",s?"u-mb0x":"u-mb3x"],[null,null,!0])+'><div class="row u-textCapitalize u-fw400"><div class="col-xs-12"><div class="media_v2"><div class="media-left media-middle"><img'+jade.attr("src",a.photo,!0,!1)+' class="Avatar--lg u-ml2x u-mr3x"/></div><div class="media-body media-middle"><div class="u-fw700 u-fs16 u-tcGrayDarkest u-textTruncate">'+jade.escape(null==(t=a.display_name)?"":t)+'</div><div class="u-fw400 u-fs14 u-tcGray u-textTruncate">'),a.is_affiliated()&&a.department)i.push(jade.escape(null==(t=a.department.university.name)?"":t));else if(a.has_research_interests()){var l=o(a.interests.slice(0,3)).pluck("name");i.push(jade.escape(null==(t=e.to_sentence(l))?"":t))}else i.push("Independent Researcher");i.push('</div></div><div class="media-right media-middle">'),r=n?"fa-check-circle u-tcGreen":"fa-plus-circle u-tcGrayDark",i.push("<i"+jade.cls(["fa","fa-lg","u-pl1x","u-clickable","js-reg-path-colleague-suggestion-row",r],[null,null,null,null,null,!0])+"></i></div></div></div></div></div>")}.call(this,"$h"in o?o.$h:"undefined"!=typeof $h?$h:void 0,"_"in o?o._:"undefined"!=typeof _?_:void 0,"accepted"in o?o.accepted:"undefined"!=typeof accepted?accepted:void 0,"icon"in o?o.icon:"undefined"!=typeof icon?icon:void 0,"isLast"in o?o.isLast:"undefined"!=typeof isLast?isLast:void 0,"user"in o?o.user:"undefined"!=typeof user?user:void 0),i.join("")}}.call(this),function(){this.JST||(this.JST={}),this.JST["reg_path/templates/name_only_coauthors/name_only_coauthor"]=function(){var e=[];return e.push('<div class="panel panel-flat combined-claim-panel"><div class="panel-body media_v2"><div class="media-left media-middle"><div class="js-name-only-coauthor-avatar"></div></div><div class="media-body media-middle padding-horizontal-2x"><div class="col-xs-5"><div class="row"><div class="js-name-only-coauthor-info"></div></div></div><div class="col-xs-6 col-xs-offset-1"><div class="row"><div class="js-name-only-coauthor-email"></div></div></div></div></div></div>'),e.join("")}}.call(this),function(){this.JST||(this.JST={}),this.JST["reg_path/templates/name_only_coauthors/name_only_coauthor_avatar"]=function(e){var t,i=[],o=e||{};return function(e,o){i.push(void 0!=o.tagged_user_photo_url?"<img"+jade.attr("src",o.tagged_user_photo_url,!0,!1)+' class="suggested-coauthor-avatar-small img-rounded"/>':"<div"+jade.cls(["suggested-coauthor-initials-container","margin-0x","padding-2x","media_v2",e],[null,null,null,null,!0])+'><div class="suggested-coauthor-initials-text media-middle margin-0x h3 text-white text-bold">'+jade.escape(null==(t=o.initials)?"":t)+"</div></div>")}.call(this,"bgClass"in o?o.bgClass:"undefined"!=typeof bgClass?bgClass:void 0,"coauthor"in o?o.coauthor:"undefined"!=typeof coauthor?coauthor:void 0),i.join("")}}.call(this),function(){this.JST||(this.JST={}),this.JST["reg_path/templates/name_only_coauthors/name_only_coauthor_email_input"]=function(e){var t=[],i=e||{};return function(e,i){t.push('<input type="email" style="width:100%;"'+jade.attr("value",i.email,!0,!1)+jade.attr("placeholder",e.t("reg_path.name_only_coauthors.coauthor_email_input.placeholder"),!0,!1)+' class="form-control js-name-only-coauthor-email-input padding-1x margin-top-1x"/><span class="js-name-only-coauthor-email-input-checkmark name-only-coauthor-email-input-checkmark fa fa-check text-success hidden"></span>')}.call(this,"I18n"in i?i.I18n:"undefined"!=typeof I18n?I18n:void 0,"coauthor"in i?i.coauthor:"undefined"!=typeof coauthor?coauthor:void 0),t.join("")}}.call(this),function(){this.JST||(this.JST={}),this.JST["reg_path/templates/name_only_coauthors/name_only_coauthor_info"]=function(e){var t,i=[],o=e||{};return function(e,o,n){var r=e.t("reg_path.name_only_coauthors.coauthor_info."+(n?"email_confirmed":"no_email")),s=n?"name-only-coauthors-text-success":"name-only-coauthors-text-warning";i.push('<p class="text-gray-darker margin-bottom-0x"><span class="text-bold text-truncate">'+jade.escape(null==(t=o.name)?"":t)+"</span></p><div"+jade.cls(["h6","margin-vertical-1x","text-bold",s],[null,null,null,!0])+">"+jade.escape(null==(t=r)?"":t)+"</div>")}.call(this,"I18n"in o?o.I18n:"undefined"!=typeof I18n?I18n:void 0,"coauthor"in o?o.coauthor:"undefined"!=typeof coauthor?coauthor:void 0,"validEmail"in o?o.validEmail:"undefined"!=typeof validEmail?validEmail:void 0),i.join("")}}.call(this),function(){this.JST||(this.JST={}),this.JST["reg_path/templates/name_only_coauthors/name_only_coauthors_control_bar"]=function(e){var t,i=[],o=e||{};return function(e,o){var n="col-xs-12 col-sm-10 col-sm-offset-1 col-md-8 col-md-offset-2 col-lg-6 col-lg-offset-3",r=e.t("reg_path.name_only_coauthors.control_bar.add_emails_for_remaining",{count:o});i.push('<div class="row"><div'+jade.cls(["padding-horizontal-0x","border-top-gray-lighter",n],[null,null,!0])+'><div class="pull-left padding-left-5x valign-wrapper"><small class="valign-item text-gray">'+jade.escape(null==(t=r)?"":t)+"</small></div></div></div>")}.call(this,"I18n"in o?o.I18n:"undefined"!=typeof I18n?I18n:void 0,"numCoauthors"in o?o.numCoauthors:"undefined"!=typeof numCoauthors?numCoauthors:void 0),i.join("")}}.call(this),function(){this.JST||(this.JST={}),this.JST["reg_path/templates/name_only_coauthors/name_only_coauthors_footer"]=function(e){var t,i=[],o={},n=e||{};return function(e){o.skipButton=function(){var o=(this&&this.block,this&&this.attributes||{},e.t("reg_path.templates.combined_claim_footer.skip"));i.push('<button data-broccoli-component="name-only-coauthors-skip-button" class="js-skip-button btn btn-lg btn-none pull-left text-gray"><span class="js-skip-button-text h6 text-uppercase">'+jade.escape(null==(t=o)?"":t)+'</span><div class="js-skip-button-spinner hidden"><i class="fa fa-spinner fa-spin fa-lg"></i></div></button>')},o.saveButton=function(){var o=(this&&this.block,this&&this.attributes||{},e.t("affiliation_editor.templates.affiliation_edit.save"));i.push('<button data-broccoli-component="name-only-coauthors-save-button" class="js-save-button confirm-button btn btn-lg btn-clear-muted disabled pull-right"><span class="h6 text-bold text-wide-letter-space text-uppercase">'+jade.escape(null==(t=o)?"":t)+"</span></button>")};var n="col-xs-12 col-sm-10 col-sm-offset-1 col-md-8 col-md-offset-2 col-lg-6 col-lg-offset-3";i.push('<div class="row bg-off-white padding-3x border-top-gray-lighter"><div'+jade.cls(["padding-horizontal-0x",n],[null,!0])+">"),o.skipButton(),o.saveButton(),i.push("</div></div>")}.call(this,"I18n"in n?n.I18n:"undefined"!=typeof I18n?I18n:void 0),i.join("")}}.call(this),function(){this.JST||(this.JST={}),this.JST["reg_path/templates/name_only_coauthors/name_only_coauthors_header"]=function(e){var t,i=[],o={},n=e||{};return function(e,n,r,s){o.connectGoogleButton=function(){var o=(this&&this.block,this&&this.attributes||{},"got_contacts"==s?"hidden":""),n="connected"==s?"hidden":"",r="connected"==s?"":"hidden",a=e.t("reg_path.name_only_coauthors.header.google_connect_button_text");i.push('<div data-broccoli-component="name-only-coauthors-google-connect-button"'+jade.cls(["js-connect-google-button","btn","btn-google","padding-3x",o],[null,null,null,null,!0])+"><i"+jade.cls(["fa","fa-lg","fa-google-plus","margin-right-2x",n],[null,null,null,null,!0])+"></i><span"+jade.cls(["js-connect-google-button-text","h6","text-bold",n],[null,null,null,!0])+">"+jade.escape(null==(t=a)?"":t)+"</span><span"+jade.cls(["js-connect-google-button-spinner",r],[null,!0])+'><i class="fa fa-spinner fa-spin fa-lg"></i></span></div>')};var a=e.t("reg_path.templates.combined_claim_page.title"),l=e.t("reg_path.name_only_coauthors.header.subtitle");i.push('<h3 class="margin-0x text-center text-bold text-gray-darker">'+jade.escape(null==(t=a)?"":t)+'</h3><p class="margin-top-2x margin-bottom-0x text-center h6 text-gray-dark text-italic">'+jade.escape(null==(t=l)?"":t)+"</p><div"+jade.cls(["alert","margin-top-8x","margin-bottom-0x","padding-vertical-6x","text-center",n],[null,null,null,null,null,!0])+'><div class="h5 text-bold padding-bottom-2x">'+jade.escape(null==(t=r)?"":t)+"</div>"),o.connectGoogleButton(),i.push("</div>")}.call(this,"I18n"in n?n.I18n:"undefined"!=typeof I18n?I18n:void 0,"alertClass"in n?n.alertClass:"undefined"!=typeof alertClass?alertClass:void 0,"alertMessage"in n?n.alertMessage:"undefined"!=typeof alertMessage?alertMessage:void 0,"headerState"in n?n.headerState:"undefined"!=typeof headerState?headerState:void 0),i.join("")}}.call(this),function(){this.JST||(this.JST={}),this.JST["reg_path/templates/name_only_coauthors/name_only_coauthors_page"]=function(){var e=[],t="col-xs-12 col-sm-10 col-sm-offset-1 col-md-8 col-md-offset-2 col-lg-6 col-lg-offset-3";return e.push('<div class="container-fluid"><div class="row margin-vertical-8x"><div'+jade.cls(["js-name-only-coauthors-header","padding-horizontal-0x",t],[null,null,!0])+'></div></div></div><!-- to account for negative margin of the control bar due to affix--><div class="margin-bottom-13x"></div><div class="js-name-only-coauthors-control-bar combined-claim-control-bar bg-gray-lightest"></div><div class="container-fluid"><div class="row bg-gray-lightest padding-bottom-3x"><div'+jade.cls(["padding-horizontal-0x",t],[null,!0])+'><div class="js-name-only-coauthors-collection"></div></div></div></div><!-- to provide space between the last panel and the footer--><div class="padding-8x bg-gray-lightest"></div><div class="js-name-only-coauthors-footer combined-claim-footer"></div>'),e.join("")}}.call(this),function(){this.JST||(this.JST={}),this.JST["reg_path/templates/no_suggested_coauthors"]=function(){var e=[];return e.push('<div class="no-suggested-coauthors-panel panel-body text-center"><div class="row"><div class="col-xs-12"><h3>No Remaining Co-authors</h3></div></div></div>'),e.join("")}}.call(this),function(){this.JST||(this.JST={}),this.JST["reg_path/templates/pre_upload_question"]=function(e){var t,i=[],o=e||{};return function(e){i.push('<div class="row DesignSystem"><div class="col-xs-12 col-sm-8 col-sm-offset-2 col-md-6 col-md-offset-3"><div class="row u-taCenter"><h4>'+jade.escape(null==(t=e)?"":t)+'</h4></div><div class="row u-taCenter u-mt8x"><div class="col-xs-6"><button class="js-pre-upload-no Button Button--lg Button--block Button--gray">NO</button></div><div class="col-xs-6"><button class="js-pre-upload-yes Button Button--lg Button--block Button--blue">YES</button></div></div></div></div>')}.call(this,"questionText"in o?o.questionText:"undefined"!=typeof questionText?questionText:void 0),i.join("")}}.call(this),function(){this.JST||(this.JST={}),this.JST["reg_path/templates/reader_message_expanding_form"]=function(e){var t,i=[],o=e||{};return function(e,o,n,r){i.push('<div class="DesignSystem"><div class="a-fadeInDown"><div class="container-fluid u-taCenter u-mb6x"><div class="js-reader-message-title u-tcGrayDarker">Share your occupation with&nbsp;<span class="u-fw700">'+jade.escape(null==(t=r)?"":t)+'</span><br/>to help them learn about how their research is helping you.</div></div><div class="container-fluid"><div class="row"><div class="col-xs-10 col-xs-offset-1 col-sm-4 col-sm-offset-4 panel panel-flat u-p5x"><div class="media_v2 u-mb4x"><div class="media-left media-middle"><img'+jade.attr("src",o,!0,!1)+' class="Avatar Avatar--md"/></div><div class="media-body media-middle u-taLeft"><div class="u-tcGrayDarker"><div class="u-fw700">'+jade.escape(null==(t=r)?"":t)+"</div><div>"+jade.escape(null==(t=e)?"":t)+'</div></div></div></div><form class="js-splash-download-feedback-form container-fluid"><div class="row u-mb4x"><div class="col-xs-12 u-ph0x"><input placeholder="Your Job Title (e.g., Researcher, MBA Student, Diplomat, ...)" class="TextInput js-select-occupation"/></div></div><div class="row u-mb4x collapse js-message-form-collapsed"><div class="col-xs-12 u-ph0x"><textarea'+jade.attr("placeholder",n,!0,!1)+' rows="4" class="TextArea TextArea--disableResize js-download-message-comment"></textarea></div></div><div class="row"><div class="col-xs-12 u-ph0x"><button type="submit" data-broccoli-component="reader-message-send-btn" class="js-download-message-save Button Button--block Button--lg">Continue</button></div></div></form></div></div></div><div class="container-fluid"><div class="row"><div class="col-xs-10 col-xs-offset-1 col-sm-4 col-sm-offset-4"><div class="u-taCenter"><a href="#" data-broccoli-component="reader-message-skip-btn" class="u-tcGray u-linkUnstyled js-reader-message-skip">Skip</a></div></div></div></div></div></div>')}.call(this,"affiliation"in o?o.affiliation:"undefined"!=typeof affiliation?affiliation:void 0,"image"in o?o.image:"undefined"!=typeof image?image:void 0,"message"in o?o.message:"undefined"!=typeof message?message:void 0,"name"in o?o.name:"undefined"!=typeof name?name:void 0),i.join("")}}.call(this),function(){this.JST||(this.JST={}),this.JST["reg_path/templates/reader_message_form"]=function(e){var t,i=[],o=e||{};return function(e,o,n,r){i.push('<div class="DesignSystem"><div class="a-fadeInDown"><div class="container-fluid"><div class="row u-mv4x"><div class="col-xs-4 col-xs-offset-4"><div class="media_v2"><div class="media-left media-middle"><img'+jade.attr("src",e,!0,!1)+' class="Avatar Avatar--md"/></div><div class="media-body media-middle u-taLeft"><div class="u-tcGrayDarker"><div>Leave&nbsp;<span class="u-fw700">'+jade.escape(null==(t=n)?"":t)+'</span>&nbsp;a note</div><div>about how you are using their paper:</div></div></div></div></div></div><div class="row"><div class="col-xs-4 col-xs-offset-4"><form class="js-splash-download-feedback-form container-fluid u-mb4x"><div class="row u-mb4x"><div class="col-xs-12 u-ph0x"><select placeholder="Your Occupation" class="select-me js-select-occupation"></select></div></div><div class="row u-mb4x"><div class="col-xs-12 u-ph0x"><textarea'+jade.attr("placeholder",o,!0,!1)+' rows="4" class="TextArea TextArea--disableResize js-download-message-comment"></textarea></div></div>'),i.push(r?'<div class="row"><div class="col-xs-12 u-ph0x"><div class="media_v2"><div class="media-middle media-body"><a href="#" data-broccoli-component="reader-message-skip-btn" class="u-tcGray u-linkUnstyled js-reader-message-skip">Skip</a></div><div class="media-middle media-right"><button type="submit" data-broccoli-component="reader-message-send-btn" class="js-download-message-save Button Button--block Button--lg">Send</button></div></div></div></div>':'<div class="row"><div class="col-xs-12 u-ph0x"><button type="submit" data-broccoli-component="reader-message-send-btn" class="js-download-message-save Button Button--block Button--lg">Send</button></div></div>'),i.push("</form></div></div></div></div></div>")
}.call(this,"image"in o?o.image:"undefined"!=typeof image?image:void 0,"message"in o?o.message:"undefined"!=typeof message?message:void 0,"name"in o?o.name:"undefined"!=typeof name?name:void 0,"skipButton"in o?o.skipButton:"undefined"!=typeof skipButton?skipButton:void 0),i.join("")}}.call(this),function(){this.JST||(this.JST={}),this.JST["reg_path/templates/set_institution"]=function(e){var t,i=[],o=e||{};return function(e){e&&i.push('<div class="row text-center margin-bottom-3x"><h4 class="js-reg-path-affiliation-headline text-bold">'+jade.escape(null==(t=e)?"":t)+"</h4></div>"),i.push('<div class="row"><div class="js-reg-path-affiliation-editor colxs-12 col-sm-8 col-sm-offset-2 col-md-6 col-md-offset-3"></div></div>')}.call(this,"headline"in o?o.headline:"undefined"!=typeof headline?headline:void 0),i.join("")}}.call(this),function(){this.JST||(this.JST={}),this.JST["reg_path/templates/step_loading"]=function(e){var t,i=[],o=e||{};return function(e){i.push('<div class="row text-center"><h4>'+jade.escape(null==(t=e)?"":t)+'</h4></div><div class="row lg-top-buffer text-center"><i class="fa fa-spinner fa-spin fa-3x"></i></div>')}.call(this,"loadingText"in o?o.loadingText:"undefined"!=typeof loadingText?loadingText:void 0),i.join("")}}.call(this),function(){this.JST||(this.JST={}),this.JST["reg_path/templates/suggested_coauthor"]=function(e){var t,i=[],o=e||{};return function(e,o,n,r){i.push('<div class="row js-reg-path-suggestion-row"><div class="col-xs-2 col-sm-1"><i'+jade.cls(["js-toggle-accept","fa","fa-lg","reg-path-suggestion-panel-checkbox","clickable",r.accept?"fa-check-circle":"fa-plus-circle"],[null,null,null,null,null,!0])+'></i></div><div class="col-xs-8 col-sm-8 padding-0x"><div class="row"><div class="col-xs-12"><div class="valign-wrapper reg-path-suggestion-text-wrapper"><div class="valign-item"><span class="text-bold text-truncate">'+jade.escape(null==(t=r.name)?"":t)+'</span><span class="coauthor-review-page-coauthor-email text-gray text-truncate">'+jade.escape(null==(t=r.obfuscated_email)?"":t)+'</span></div></div></div></div></div><div class="col-xs-2 col-sm-3"><div class="coauthor-review-page-paper-count-container clickable pull-right js-coauthor-review-page-paper-count"><span class="coauthor-review-page-paper-count-text text-bold text-gray-light hidden-xs">'+jade.escape(null==(t=e.t("reg_path.templates.suggested_coauthor.papers",{count:r.tags.length}))?"":t)+"</span>&nbsp;&nbsp;<i"+jade.cls(["js-coauthor-review-page-dropdown-icon","coauthor-review-page-dropdown-icon","fa","text-gray-light",o?"fa-chevron-up":"fa-chevron-down"],[null,null,null,null,!0])+'></i></div></div><div class="container-fluid"><div class="row bg-off-white coauthor-review-work-list-wrapper"><div class="col-xs-12"><div'+jade.cls(["collapse","js-coauthor-review-page-works-container",o?"in":""],[null,null,!0])+'><br/><div class="panel"><ul class="list-group">'),function(){var e=r.tags;if("number"==typeof e.length)for(var o=0,n=e.length;n>o;o++){var s=e[o];i.push('<li class="list-group-item"><div class="row"><div class="col-xs-10"><span class="coauthor-review-page-work-title text-serif text-gray-dark js-coauthor-review-page-work-title">'+jade.escape(null==(t=s.title)?"":t)+'</span></div><div class="coauthor-review-page-work-trash"><i'+jade.attr("data-work-id",s.work_id,!0,!1)+' class="js-reject-tag fa fa-lg fa-trash-o clickable text-gray-light"></i></div></div></li>')}else{var n=0;for(var o in e){n++;var s=e[o];i.push('<li class="list-group-item"><div class="row"><div class="col-xs-10"><span class="coauthor-review-page-work-title text-serif text-gray-dark js-coauthor-review-page-work-title">'+jade.escape(null==(t=s.title)?"":t)+'</span></div><div class="coauthor-review-page-work-trash"><i'+jade.attr("data-work-id",s.work_id,!0,!1)+' class="js-reject-tag fa fa-lg fa-trash-o clickable text-gray-light"></i></div></div></li>')}}}.call(this),i.push("</ul></div></div></div></div></div></div>")}.call(this,"I18n"in o?o.I18n:"undefined"!=typeof I18n?I18n:void 0,"expanded"in o?o.expanded:"undefined"!=typeof expanded?expanded:void 0,"undefined"in o?o.undefined:void 0,"work"in o?o.work:"undefined"!=typeof work?work:void 0),i.join("")}}.call(this),function(){this.JST||(this.JST={}),this.JST["reg_path/templates/suggested_work"]=function(e){var t,i=[],o=e||{};return function(e,o){i.push('<div class="row js-reg-path-suggestion-row"><div class="col-xs-2 col-sm-1"><i'+jade.cls(["fa","fa-lg","reg-path-suggestion-panel-checkbox","clickable",e?"fa-check-circle":"fa-plus-circle"],[null,null,null,null,!0])+'></i></div><div class="col-xs-10 col-sm-11 padding-0x"><div class="valign-wrapper reg-path-suggestion-text-wrapper"><div class="valign-item"><span class="cluster-review-page-work-title js-cluster-review-page-work-title text-serif">'+jade.escape(null==(t=o)?"":t)+"</span></div></div></div></div>")}.call(this,"isClaimed"in o?o.isClaimed:"undefined"!=typeof isClaimed?isClaimed:void 0,"title"in o?o.title:"undefined"!=typeof title?title:void 0),i.join("")}}.call(this),function(){this.JST||(this.JST={}),this.JST["reg_path/templates/sutd_download"]=function(e){var t,i=[],o=e||{};return function(e,o){i.push('<div class="row DesignSystem"><div class="col-xs-12 col-sm-8 col-sm-offset-2 col-md-6 col-md-offset-3"><div class="row u-taCenter"><h4>Your download is ready for:</h4><h4 class="u-fontSerif">'+jade.escape(null==(t=o.title)?"":t)+'</h4></div><div class="row u-taCenter u-mt8x"><div class="col col-xs-10 col-xs-offset-1 col-sm-8 col-sm-offset-2 col-md-6 col-md-offset-3"><div class="row"><a'+jade.attr("href",o.url,!0,!1)+' class="js-download-link Button Button--lg Button--block Button--green u-textTruncate"><i class="fa fa-download"></i>&nbsp;&nbsp;'+jade.escape(null==(t=o.file_name)?"":t)+'</a></div></div></div><div class="row u-taCenter u-mt12x"><a'+jade.attr("href",e.User.current.url,!0,!1)+' class="u-tcGrayDark u-fw500">CONTINUE TO YOUR PROFILE\n&nbsp;&nbsp;<i class="fa fa-chevron-right"></i></a></div></div></div>')}.call(this,"c"in o?o.c:"undefined"!=typeof c?c:void 0,"download"in o?o.download:"undefined"!=typeof download?download:void 0),i.join("")}}.call(this),function(){this.JST||(this.JST={}),this.JST["reg_path/templates/upload_papers_page"]=function(e){var t=[],i=e||{};return function(e,i){t.push('<div class="DesignSystem"><div class="row"><div class="col-xs-10 col-xs-offset-1 col-sm-8 col-sm-offset-2 col-md-6 col-md-offset-3"><div class="js-multi-work-uploader-container"></div></div></div><div class="row u-mt4x">'),e="u-fw400 u-fs14 u-tcGray u-textUppercase u-linkUnstyled",t.push('<div class="col-xs-5 col-xs-offset-1 col-sm-4 col-sm-offset-2 col-md-3 col-md-offset-3"><a'+jade.cls(["js-reg-path-upload-papers-back-button","u-pl0x",e],[null,null,!0])+'><i class="fa fa-arrow-left"></i>&nbsp;&nbsp;\nBACK</a></div>'),i&&t.push('<div class="col-xs-5 col-sm-4 col-md-3"><a'+jade.cls(["js-reg-path-upload-papers-skip-button","u-pr0x","pull-right",e],[null,null,null,!0])+">SKIP</a></div>"),t.push("</div></div>")}.call(this,"buttonClasses"in i?i.buttonClasses:"undefined"!=typeof buttonClasses?buttonClasses:void 0,"showSkip"in i?i.showSkip:"undefined"!=typeof showSkip?showSkip:void 0),t.join("")}}.call(this),function(){this.JST||(this.JST={}),this.JST["reg_path/templates/verify_account"]=function(e){var t,i=[],o=e||{};return function(e,o){var n="col-xs-4 col-xs-offset-4";i.push('<div class="container-fluid"><div class="row"><div'+jade.cls([n],[!0])+'><div class="row margin-bottom-15x"><div class="text-center"><h3 class="text-bold">'+jade.escape(null==(t=e.t("reg_path.templates.verify_account.verify_your_account"))?"":t)+"</h3>"),i.push(o?'<p class="h6 text-gray-dark text-italic">'+jade.escape(null==(t=e.t("reg_path.templates.verify_account.yahoo_subtitle"))?"":t)+"</p>":'<p class="h6 text-gray-dark text-italic">'+jade.escape(null==(t=e.t("reg_path.templates.verify_account.subtitle"))?"":t)+"</p>"),i.push('</div></div><div class="row">'),i.push(o?'<button data-broccoli-component="verify-account-yahoo-connect-button" class="btn btn-lg btn-block btn-yahoo text-bold js-connect-with-yahoo-button"><i class="fa fa-lg fa-yahoo margin-right-3x js-yahoo-icon"></i><small>'+jade.escape(null==(t=e.t("reg_path.templates.verify_account.yahoo_button"))?"":t)+"</small></button>":'<button data-broccoli-component="verify-account-google-connect-button" class="btn btn-lg btn-block btn-google text-bold js-connect-with-google-button"><i class="fa fa-lg fa-google-plus margin-right-3x js-google-icon"></i><small>'+jade.escape(null==(t=e.t("reg_path.templates.verify_account.google_button"))?"":t)+"</small></button>"),i.push('</div><div class="row margin-vertical-10x"><div class="hr-heading"><span class="hr-heading-text">'+jade.escape(null==(t=e.t("reg_path.templates.verify_account.hr_heading_text"))?"":t)+'</span></div></div><div class="row margin-bottom-10x"><div class="form-group js-enter-password-form-group"><input type="password"'+jade.attr("placeholder",e.t("reg_path.templates.verify_account.enter_password"),!0,!1)+' class="form-control margin-bottom-2x js-enter-password-input"/></div><div class="form-group js-re-enter-password-form-group"><input type="password"'+jade.attr("placeholder",e.t("reg_path.templates.verify_account.retype_password"),!0,!1)+' class="form-control js-re-enter-password-input"/></div></div><div class="row"><button data-broccoli-component="verify-account-password-button" class="btn btn-lg btn-block btn-primary text-bold js-verify-account-button">'+jade.escape(null==(t=e.t("reg_path.templates.verify_account.verify_account"))?"":t)+"</button></div></div></div></div>")}.call(this,"I18n"in o?o.I18n:"undefined"!=typeof I18n?I18n:void 0,"showYahoo"in o?o.showYahoo:"undefined"!=typeof showYahoo?showYahoo:void 0),i.join("")}}.call(this);